"use strict";var Sc=Object.create;var es=Object.defineProperty;var Dc=Object.getOwnPropertyDescriptor;var Ic=Object.getOwnPropertyNames;var Nc=Object.getPrototypeOf,kc=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mc=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ic(t))!kc.call(e,o)&&o!==n&&es(e,o,{get:()=>t[o],enumerable:!(r=Dc(t,o))||r.enumerable});return e};var ts=(e,t,n)=>(n=e!=null?Sc(Nc(e)):{},Mc(t||!e||!e.__esModule?es(n,"default",{value:e,enumerable:!0}):n,e));var qn=F(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.thenable=he.typedArray=he.stringArray=he.array=he.func=he.error=he.number=he.string=he.boolean=void 0;function Fc(e){return e===!0||e===!1}he.boolean=Fc;function ns(e){return typeof e=="string"||e instanceof String}he.string=ns;function Oc(e){return typeof e=="number"||e instanceof Number}he.number=Oc;function Ac(e){return e instanceof Error}he.error=Ac;function rs(e){return typeof e=="function"}he.func=rs;function is(e){return Array.isArray(e)}he.array=is;function qc(e){return is(e)&&e.every(t=>ns(t))}he.stringArray=qc;function Lc(e,t){return Array.isArray(e)&&e.every(t)}he.typedArray=Lc;function xc(e){return e&&rs(e.then)}he.thenable=xc});var xt=F(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.stringArray=Ee.array=Ee.func=Ee.error=Ee.number=Ee.string=Ee.boolean=void 0;function jc(e){return e===!0||e===!1}Ee.boolean=jc;function os(e){return typeof e=="string"||e instanceof String}Ee.string=os;function Wc(e){return typeof e=="number"||e instanceof Number}Ee.number=Wc;function Uc(e){return e instanceof Error}Ee.error=Uc;function Hc(e){return typeof e=="function"}Ee.func=Hc;function ss(e){return Array.isArray(e)}Ee.array=ss;function Bc(e){return ss(e)&&e.every(t=>os(t))}Ee.stringArray=Bc});var Ti=F(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.Message=L.NotificationType9=L.NotificationType8=L.NotificationType7=L.NotificationType6=L.NotificationType5=L.NotificationType4=L.NotificationType3=L.NotificationType2=L.NotificationType1=L.NotificationType0=L.NotificationType=L.RequestType9=L.RequestType8=L.RequestType7=L.RequestType6=L.RequestType5=L.RequestType4=L.RequestType3=L.RequestType2=L.RequestType1=L.RequestType=L.RequestType0=L.AbstractMessageSignature=L.ParameterStructures=L.ResponseError=L.ErrorCodes=void 0;var Ct=xt(),as;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(as=L.ErrorCodes||(L.ErrorCodes={}));var ei=class e extends Error{constructor(t,n,r){super(n),this.code=Ct.number(t)?t:as.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};L.ResponseError=ei;var Fe=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};L.ParameterStructures=Fe;Fe.auto=new Fe("auto");Fe.byPosition=new Fe("byPosition");Fe.byName=new Fe("byName");var se=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Fe.auto}};L.AbstractMessageSignature=se;var ti=class extends se{constructor(t){super(t,0)}};L.RequestType0=ti;var ni=class extends se{constructor(t,n=Fe.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.RequestType=ni;var ri=class extends se{constructor(t,n=Fe.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.RequestType1=ri;var ii=class extends se{constructor(t){super(t,2)}};L.RequestType2=ii;var oi=class extends se{constructor(t){super(t,3)}};L.RequestType3=oi;var si=class extends se{constructor(t){super(t,4)}};L.RequestType4=si;var ai=class extends se{constructor(t){super(t,5)}};L.RequestType5=ai;var ci=class extends se{constructor(t){super(t,6)}};L.RequestType6=ci;var ui=class extends se{constructor(t){super(t,7)}};L.RequestType7=ui;var li=class extends se{constructor(t){super(t,8)}};L.RequestType8=li;var di=class extends se{constructor(t){super(t,9)}};L.RequestType9=di;var _i=class extends se{constructor(t,n=Fe.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.NotificationType=_i;var fi=class extends se{constructor(t){super(t,0)}};L.NotificationType0=fi;var mi=class extends se{constructor(t,n=Fe.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};L.NotificationType1=mi;var hi=class extends se{constructor(t){super(t,2)}};L.NotificationType2=hi;var gi=class extends se{constructor(t){super(t,3)}};L.NotificationType3=gi;var pi=class extends se{constructor(t){super(t,4)}};L.NotificationType4=pi;var yi=class extends se{constructor(t){super(t,5)}};L.NotificationType5=yi;var bi=class extends se{constructor(t){super(t,6)}};L.NotificationType6=bi;var vi=class extends se{constructor(t){super(t,7)}};L.NotificationType7=vi;var wi=class extends se{constructor(t){super(t,8)}};L.NotificationType8=wi;var Ri=class extends se{constructor(t){super(t,9)}};L.NotificationType9=Ri;var Vc;(function(e){function t(o){let a=o;return a&&Ct.string(a.method)&&(Ct.string(a.id)||Ct.number(a.id))}e.isRequest=t;function n(o){let a=o;return a&&Ct.string(a.method)&&o.id===void 0}e.isNotification=n;function r(o){let a=o;return a&&(a.result!==void 0||!!a.error)&&(Ct.string(a.id)||Ct.number(a.id)||a.id===null)}e.isResponse=r})(Vc=L.Message||(L.Message={}))});var Pi=F(at=>{"use strict";var cs;Object.defineProperty(at,"__esModule",{value:!0});at.LRUCache=at.LinkedMap=at.Touch=void 0;var De;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(De=at.Touch||(at.Touch={}));var Ln=class{constructor(){this[cs]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=De.None){let r=this._map.get(t);if(r)return n!==De.None&&this.touch(r,n),r.value}set(t,n,r=De.None){let o=this._map.get(t);if(o)o.value=n,r!==De.None&&this.touch(o,r);else{switch(o={key:t,value:n,next:void 0,previous:void 0},r){case De.None:this.addItemLast(o);break;case De.First:this.addItemFirst(o);break;case De.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(t,o),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,o=this._head;for(;o;){if(n?t.bind(n)(o.value,o.key,this):t(o.value,o.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}[(cs=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==De.First&&n!==De.Last)){if(n===De.First){if(t===this._head)return;let r=t.next,o=t.previous;t===this._tail?(o.next=void 0,this._tail=o):(r.previous=o,o.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===De.Last){if(t===this._tail)return;let r=t.next,o=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=o,o.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};at.LinkedMap=Ln;var Ci=class extends Ln{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=De.AsNew){return super.get(t,n)}peek(t){return super.get(t,De.None)}set(t,n){return super.set(t,n,De.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};at.LRUCache=Ci});var us=F(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.Disposable=void 0;var $c;(function(e){function t(n){return{dispose:n}}e.create=t})($c=rn.Disposable||(rn.Disposable={}))});var gt=F(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var Ei;function Si(){if(Ei===void 0)throw new Error("No runtime abstraction layer installed");return Ei}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ei=n}e.install=t})(Si||(Si={}));Di.default=Si});var jt=F(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Emitter=Pt.Event=void 0;var zc=gt(),Zc;(function(e){let t={dispose(){}};e.None=function(){return t}})(Zc=Pt.Event||(Pt.Event={}));var Ii=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let o=0,a=this._callbacks.length;o<a;o++)if(this._callbacks[o]===t)if(this._contexts[o]===n){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),o=this._contexts.slice(0);for(let a=0,d=r.length;a<d;a++)try{n.push(r[a].apply(o[a],t))}catch(f){(0,zc.default)().console.error(f)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},xn=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new Ii),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let o={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),o.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(o),o}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Pt.Emitter=xn;xn._noop=function(){}});var Wn=F(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.CancellationTokenSource=Et.CancellationToken=void 0;var Gc=gt(),Qc=xt(),Ni=jt(),ki;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ni.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ni.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||Qc.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(ki=Et.CancellationToken||(Et.CancellationToken={}));var Kc=Object.freeze(function(e,t){let n=(0,Gc.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),jn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Kc:(this._emitter||(this._emitter=new Ni.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Mi=class{get token(){return this._token||(this._token=new jn),this._token}cancel(){this._token?this._token.cancel():this._token=ki.Cancelled}dispose(){this._token?this._token instanceof jn&&this._token.dispose():this._token=ki.None}};Et.CancellationTokenSource=Mi});var ls=F(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.SharedArrayReceiverStrategy=Wt.SharedArraySenderStrategy=void 0;var Jc=Wn(),on;(function(e){e.Continue=0,e.Cancelled=1})(on||(on={}));var Fi=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=on.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let r=this.buffers.get(n);if(r===void 0)return;let o=new Int32Array(r,0,1);Atomics.store(o,0,on.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Wt.SharedArraySenderStrategy=Fi;var Oi=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===on.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Ai=class{constructor(t){this.token=new Oi(t)}cancel(){}dispose(){}},qi=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new Jc.CancellationTokenSource:new Ai(n)}};Wt.SharedArrayReceiverStrategy=qi});var xi=F(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.Semaphore=void 0;var Xc=gt(),Li=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Xc.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};Un.Semaphore=Li});var ds=F(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.ReadableStreamMessageReader=ct.AbstractMessageReader=ct.MessageReader=void 0;var Wi=gt(),Ut=xt(),ji=jt(),Yc=xi(),eu;(function(e){function t(n){let r=n;return r&&Ut.func(r.listen)&&Ut.func(r.dispose)&&Ut.func(r.onError)&&Ut.func(r.onClose)&&Ut.func(r.onPartialMessage)}e.is=t})(eu=ct.MessageReader||(ct.MessageReader={}));var Hn=class{constructor(){this.errorEmitter=new ji.Emitter,this.closeEmitter=new ji.Emitter,this.partialMessageEmitter=new ji.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ut.string(t.message)?t.message:"unknown"}`)}};ct.AbstractMessageReader=Hn;var Ui;(function(e){function t(n){let r,o,a,d=new Map,f,R=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,d.set(a.name,a)),n.contentDecoders!==void 0)for(let v of n.contentDecoders)d.set(v.name,v);if(n.contentTypeDecoder!==void 0&&(f=n.contentTypeDecoder,R.set(f.name,f)),n.contentTypeDecoders!==void 0)for(let v of n.contentTypeDecoders)R.set(v.name,v)}return f===void 0&&(f=(0,Wi.default)().applicationJson.decoder,R.set(f.name,f)),{charset:r,contentDecoder:a,contentDecoders:d,contentTypeDecoder:f,contentTypeDecoders:R}}e.fromOptions=t})(Ui||(Ui={}));var Hi=class extends Hn{constructor(t,n){super(),this.readable=t,this.options=Ui.fromOptions(n),this.buffer=(0,Wi.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Yc.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let o=r.get("content-length");if(!o){this.fireError(new Error("Header must provide a Content-Length property."));return}let a=parseInt(o);if(isNaN(a)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,o=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(o)}).catch(r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Wi.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ct.ReadableStreamMessageReader=Hi});var gs=F(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.WriteableStreamMessageWriter=ut.AbstractMessageWriter=ut.MessageWriter=void 0;var _s=gt(),sn=xt(),tu=xi(),ms=jt(),nu="Content-Length: ",hs=`\r
`,ru;(function(e){function t(n){let r=n;return r&&sn.func(r.dispose)&&sn.func(r.onClose)&&sn.func(r.onError)&&sn.func(r.write)}e.is=t})(ru=ut.MessageWriter||(ut.MessageWriter={}));var Bn=class{constructor(){this.errorEmitter=new ms.Emitter,this.closeEmitter=new ms.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${sn.string(t.message)?t.message:"unknown"}`)}};ut.AbstractMessageWriter=Bn;var Bi;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,_s.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,_s.default)().applicationJson.encoder}}e.fromOptions=t})(Bi||(Bi={}));var Vi=class extends Bn{constructor(t,n){super(),this.writable=t,this.options=Bi.fromOptions(n),this.errorCount=0,this.writeSemaphore=new tu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let o=[];return o.push(nu,r.byteLength.toString(),hs),o.push(hs),this.doWrite(t,o,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(o){return this.handleError(o,t),Promise.reject(o)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};ut.WriteableStreamMessageWriter=Vi});var ps=F(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.AbstractMessageBuffer=void 0;var iu=13,ou=10,su=`\r
`,$i=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,o=0,a=0;e:for(;r<this._chunks.length;){let v=this._chunks[r];for(o=0;o<v.length;){switch(v[o]){case iu:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case ou:switch(n){case 1:n=2;break;case 3:n=4,o++;break e;default:n=0}break;default:n=0}o++}a+=v.byteLength,r++}if(n!==4)return;let d=this._read(a+o),f=new Map,R=this.toString(d,"ascii").split(su);if(R.length<2)return f;for(let v=0;v<R.length-2;v++){let S=R[v],I=S.indexOf(":");if(I===-1)throw new Error("Message header must separate key and value using :");let M=S.substr(0,I),j=S.substr(I+1).trim();f.set(t?M.toLowerCase():M,j)}return f}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],d=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,d}let n=this.allocNative(t),r=0,o=0;for(;t>0;){let a=this._chunks[o];if(a.byteLength>t){let d=a.slice(0,t);n.set(d,r),r+=t,this._chunks[o]=a.slice(t),this._totalLength-=t,t-=t}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return n}};Vn.AbstractMessageBuffer=$i});var Cs=F(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.createMessageConnection=q.ConnectionOptions=q.MessageStrategy=q.CancellationStrategy=q.CancellationSenderStrategy=q.CancellationReceiverStrategy=q.RequestCancellationReceiverStrategy=q.IdCancellationReceiverStrategy=q.ConnectionStrategy=q.ConnectionError=q.ConnectionErrors=q.LogTraceNotification=q.SetTraceNotification=q.TraceFormat=q.TraceValues=q.Trace=q.NullLogger=q.ProgressType=q.ProgressToken=void 0;var ys=gt(),le=xt(),U=Ti(),bs=Pi(),an=jt(),zi=Wn(),un;(function(e){e.type=new U.NotificationType("$/cancelRequest")})(un||(un={}));var vs;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(vs=q.ProgressToken||(q.ProgressToken={}));var cn;(function(e){e.type=new U.NotificationType("$/progress")})(cn||(cn={}));var Zi=class{constructor(){}};q.ProgressType=Zi;var Gi;(function(e){function t(n){return le.func(n)}e.is=t})(Gi||(Gi={}));q.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var te;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(te=q.Trace||(q.Trace={}));var au;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(au=q.TraceValues||(q.TraceValues={}));(function(e){function t(r){if(!le.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(te=q.Trace||(q.Trace={}));var $e;(function(e){e.Text="text",e.JSON="json"})($e=q.TraceFormat||(q.TraceFormat={}));(function(e){function t(n){return le.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})($e=q.TraceFormat||(q.TraceFormat={}));var ws;(function(e){e.type=new U.NotificationType("$/setTrace")})(ws=q.SetTraceNotification||(q.SetTraceNotification={}));var Qi;(function(e){e.type=new U.NotificationType("$/logTrace")})(Qi=q.LogTraceNotification||(q.LogTraceNotification={}));var $n;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})($n=q.ConnectionErrors||(q.ConnectionErrors={}));var Ht=class e extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,e.prototype)}};q.ConnectionError=Ht;var Rs;(function(e){function t(n){let r=n;return r&&le.func(r.cancelUndispatched)}e.is=t})(Rs=q.ConnectionStrategy||(q.ConnectionStrategy={}));var Xi;(function(e){function t(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&le.func(r.createCancellationTokenSource)&&(r.dispose===void 0||le.func(r.dispose))}e.is=t})(Xi=q.IdCancellationReceiverStrategy||(q.IdCancellationReceiverStrategy={}));var Ts;(function(e){function t(n){let r=n;return r&&r.kind==="request"&&le.func(r.createCancellationTokenSource)&&(r.dispose===void 0||le.func(r.dispose))}e.is=t})(Ts=q.RequestCancellationReceiverStrategy||(q.RequestCancellationReceiverStrategy={}));var Ki;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new zi.CancellationTokenSource}});function t(n){return Xi.is(n)||Ts.is(n)}e.is=t})(Ki=q.CancellationReceiverStrategy||(q.CancellationReceiverStrategy={}));var Ji;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(un.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&le.func(r.sendCancellation)&&le.func(r.cleanup)}e.is=t})(Ji=q.CancellationSenderStrategy||(q.CancellationSenderStrategy={}));var Yi;(function(e){e.Message=Object.freeze({receiver:Ki.Message,sender:Ji.Message});function t(n){let r=n;return r&&Ki.is(r.receiver)&&Ji.is(r.sender)}e.is=t})(Yi=q.CancellationStrategy||(q.CancellationStrategy={}));var eo;(function(e){function t(n){let r=n;return r&&le.func(r.handleMessage)}e.is=t})(eo=q.MessageStrategy||(q.MessageStrategy={}));var cu;(function(e){function t(n){let r=n;return r&&(Yi.is(r.cancellationStrategy)||Rs.is(r.connectionStrategy)||eo.is(r.messageStrategy))}e.is=t})(cu=q.ConnectionOptions||(q.ConnectionOptions={}));var ze;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(ze||(ze={}));function uu(e,t,n,r){let o=n!==void 0?n:q.NullLogger,a=0,d=0,f=0,R="2.0",v,S=new Map,I,M=new Map,j=new Map,Y,X=new bs.LinkedMap,O=new Map,x=new Set,g=new Map,p=te.Off,E=$e.Text,W,V=ze.New,$=new an.Emitter,ve=new an.Emitter,Me=new an.Emitter,Oe=new an.Emitter,_t=new an.Emitter,ae=r&&r.cancellationStrategy?r.cancellationStrategy:Yi.Message;function Ae(_){if(_===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+_.toString()}function it(_){return _===null?"res-unknown-"+(++f).toString():"res-"+_.toString()}function Dn(){return"not-"+(++d).toString()}function Wr(_,T){U.Message.isRequest(T)?_.set(Ae(T.id),T):U.Message.isResponse(T)?_.set(it(T.id),T):_.set(Dn(),T)}function Ur(_){}function In(){return V===ze.Listening}function Ot(){return V===ze.Closed}function ft(){return V===ze.Disposed}function Yt(){(V===ze.New||V===ze.Listening)&&(V=ze.Closed,ve.fire(void 0))}function At(_){$.fire([_,void 0,void 0])}function Hr(_){$.fire(_)}e.onClose(Yt),e.onError(At),t.onClose(Yt),t.onError(Hr);function Nn(){Y||X.size===0||(Y=(0,ys.default)().timer.setImmediate(()=>{Y=void 0,Br()}))}function kn(_){U.Message.isRequest(_)?$r(_):U.Message.isNotification(_)?Zr(_):U.Message.isResponse(_)?zr(_):en(_)}function Br(){if(X.size===0)return;let _=X.shift();try{let T=r?.messageStrategy;eo.is(T)?T.handleMessage(_,kn):kn(_)}finally{Nn()}}let Vr=_=>{try{if(U.Message.isNotification(_)&&_.method===un.type.method){let T=_.params.id,N=Ae(T),A=X.get(N);if(U.Message.isRequest(A)){let ee=r?.connectionStrategy,ce=ee&&ee.cancelUndispatched?ee.cancelUndispatched(A,Ur):void 0;if(ce&&(ce.error!==void 0||ce.result!==void 0)){X.delete(N),g.delete(T),ce.id=A.id,qt(ce,_.method,Date.now()),t.write(ce).catch(()=>o.error("Sending response for canceled message failed."));return}}let ne=g.get(T);if(ne!==void 0){ne.cancel(),tn(_);return}else x.add(T)}Wr(X,_)}finally{Nn()}};function $r(_){if(ft())return;function T(z,re,J){let me={jsonrpc:R,id:_.id};z instanceof U.ResponseError?me.error=z.toJson():me.result=z===void 0?null:z,qt(me,re,J),t.write(me).catch(()=>o.error("Sending response failed."))}function N(z,re,J){let me={jsonrpc:R,id:_.id,error:z.toJson()};qt(me,re,J),t.write(me).catch(()=>o.error("Sending response failed."))}function A(z,re,J){z===void 0&&(z=null);let me={jsonrpc:R,id:_.id,result:z};qt(me,re,J),t.write(me).catch(()=>o.error("Sending response failed."))}Kr(_);let ne=S.get(_.method),ee,ce;ne&&(ee=ne.type,ce=ne.handler);let ue=Date.now();if(ce||v){let z=_.id??String(Date.now()),re=Xi.is(ae.receiver)?ae.receiver.createCancellationTokenSource(z):ae.receiver.createCancellationTokenSource(_);_.id!==null&&x.has(_.id)&&re.cancel(),_.id!==null&&g.set(z,re);try{let J;if(ce)if(_.params===void 0){if(ee!==void 0&&ee.numberOfParams!==0){N(new U.ResponseError(U.ErrorCodes.InvalidParams,`Request ${_.method} defines ${ee.numberOfParams} params but received none.`),_.method,ue);return}J=ce(re.token)}else if(Array.isArray(_.params)){if(ee!==void 0&&ee.parameterStructures===U.ParameterStructures.byName){N(new U.ResponseError(U.ErrorCodes.InvalidParams,`Request ${_.method} defines parameters by name but received parameters by position`),_.method,ue);return}J=ce(..._.params,re.token)}else{if(ee!==void 0&&ee.parameterStructures===U.ParameterStructures.byPosition){N(new U.ResponseError(U.ErrorCodes.InvalidParams,`Request ${_.method} defines parameters by position but received parameters by name`),_.method,ue);return}J=ce(_.params,re.token)}else v&&(J=v(_.method,_.params,re.token));let me=J;J?me.then?me.then(we=>{g.delete(z),T(we,_.method,ue)},we=>{g.delete(z),we instanceof U.ResponseError?N(we,_.method,ue):we&&le.string(we.message)?N(new U.ResponseError(U.ErrorCodes.InternalError,`Request ${_.method} failed with message: ${we.message}`),_.method,ue):N(new U.ResponseError(U.ErrorCodes.InternalError,`Request ${_.method} failed unexpectedly without providing any details.`),_.method,ue)}):(g.delete(z),T(J,_.method,ue)):(g.delete(z),A(J,_.method,ue))}catch(J){g.delete(z),J instanceof U.ResponseError?T(J,_.method,ue):J&&le.string(J.message)?N(new U.ResponseError(U.ErrorCodes.InternalError,`Request ${_.method} failed with message: ${J.message}`),_.method,ue):N(new U.ResponseError(U.ErrorCodes.InternalError,`Request ${_.method} failed unexpectedly without providing any details.`),_.method,ue)}}else N(new U.ResponseError(U.ErrorCodes.MethodNotFound,`Unhandled method ${_.method}`),_.method,ue)}function zr(_){if(!ft())if(_.id===null)_.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(_.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let T=_.id,N=O.get(T);if(Jr(_,N),N!==void 0){O.delete(T);try{if(_.error){let A=_.error;N.reject(new U.ResponseError(A.code,A.message,A.data))}else if(_.result!==void 0)N.resolve(_.result);else throw new Error("Should never happen.")}catch(A){A.message?o.error(`Response handler '${N.method}' failed with message: ${A.message}`):o.error(`Response handler '${N.method}' failed unexpectedly.`)}}}}function Zr(_){if(ft())return;let T,N;if(_.method===un.type.method){let A=_.params.id;x.delete(A),tn(_);return}else{let A=M.get(_.method);A&&(N=A.handler,T=A.type)}if(N||I)try{if(tn(_),N)if(_.params===void 0)T!==void 0&&T.numberOfParams!==0&&T.parameterStructures!==U.ParameterStructures.byName&&o.error(`Notification ${_.method} defines ${T.numberOfParams} params but received none.`),N();else if(Array.isArray(_.params)){let A=_.params;_.method===cn.type.method&&A.length===2&&vs.is(A[0])?N({token:A[0],value:A[1]}):(T!==void 0&&(T.parameterStructures===U.ParameterStructures.byName&&o.error(`Notification ${_.method} defines parameters by name but received parameters by position`),T.numberOfParams!==_.params.length&&o.error(`Notification ${_.method} defines ${T.numberOfParams} params but received ${A.length} arguments`)),N(...A))}else T!==void 0&&T.parameterStructures===U.ParameterStructures.byPosition&&o.error(`Notification ${_.method} defines parameters by position but received parameters by name`),N(_.params);else I&&I(_.method,_.params)}catch(A){A.message?o.error(`Notification handler '${_.method}' failed with message: ${A.message}`):o.error(`Notification handler '${_.method}' failed unexpectedly.`)}else Me.fire(_)}function en(_){if(!_){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(_,null,4)}`);let T=_;if(le.string(T.id)||le.number(T.id)){let N=T.id,A=O.get(N);A&&A.reject(new Error("The received response has neither a result nor an error property."))}}function et(_){if(_!=null)switch(p){case te.Verbose:return JSON.stringify(_,null,4);case te.Compact:return JSON.stringify(_);default:return}}function Gr(_){if(!(p===te.Off||!W))if(E===$e.Text){let T;(p===te.Verbose||p===te.Compact)&&_.params&&(T=`Params: ${et(_.params)}

`),W.log(`Sending request '${_.method} - (${_.id})'.`,T)}else mt("send-request",_)}function Qr(_){if(!(p===te.Off||!W))if(E===$e.Text){let T;(p===te.Verbose||p===te.Compact)&&(_.params?T=`Params: ${et(_.params)}

`:T=`No parameters provided.

`),W.log(`Sending notification '${_.method}'.`,T)}else mt("send-notification",_)}function qt(_,T,N){if(!(p===te.Off||!W))if(E===$e.Text){let A;(p===te.Verbose||p===te.Compact)&&(_.error&&_.error.data?A=`Error data: ${et(_.error.data)}

`:_.result?A=`Result: ${et(_.result)}

`:_.error===void 0&&(A=`No result returned.

`)),W.log(`Sending response '${T} - (${_.id})'. Processing request took ${Date.now()-N}ms`,A)}else mt("send-response",_)}function Kr(_){if(!(p===te.Off||!W))if(E===$e.Text){let T;(p===te.Verbose||p===te.Compact)&&_.params&&(T=`Params: ${et(_.params)}

`),W.log(`Received request '${_.method} - (${_.id})'.`,T)}else mt("receive-request",_)}function tn(_){if(!(p===te.Off||!W||_.method===Qi.type.method))if(E===$e.Text){let T;(p===te.Verbose||p===te.Compact)&&(_.params?T=`Params: ${et(_.params)}

`:T=`No parameters provided.

`),W.log(`Received notification '${_.method}'.`,T)}else mt("receive-notification",_)}function Jr(_,T){if(!(p===te.Off||!W))if(E===$e.Text){let N;if((p===te.Verbose||p===te.Compact)&&(_.error&&_.error.data?N=`Error data: ${et(_.error.data)}

`:_.result?N=`Result: ${et(_.result)}

`:_.error===void 0&&(N=`No result returned.

`)),T){let A=_.error?` Request failed: ${_.error.message} (${_.error.code}).`:"";W.log(`Received response '${T.method} - (${_.id})' in ${Date.now()-T.timerStart}ms.${A}`,N)}else W.log(`Received response ${_.id} without active response promise.`,N)}else mt("receive-response",_)}function mt(_,T){if(!W||p===te.Off)return;let N={isLSPMessage:!0,type:_,message:T,timestamp:Date.now()};W.log(N)}function Tt(){if(Ot())throw new Ht($n.Closed,"Connection is closed.");if(ft())throw new Ht($n.Disposed,"Connection is disposed.")}function Xr(){if(In())throw new Ht($n.AlreadyListening,"Connection is already listening")}function Yr(){if(!In())throw new Error("Call listen() first.")}function ot(_){return _===void 0?null:_}function Mn(_){if(_!==null)return _}function Fn(_){return _!=null&&!Array.isArray(_)&&typeof _=="object"}function nn(_,T){switch(_){case U.ParameterStructures.auto:return Fn(T)?Mn(T):[ot(T)];case U.ParameterStructures.byName:if(!Fn(T))throw new Error("Received parameters by name but param is not an object literal.");return Mn(T);case U.ParameterStructures.byPosition:return[ot(T)];default:throw new Error(`Unknown parameter structure ${_.toString()}`)}}function On(_,T){let N,A=_.numberOfParams;switch(A){case 0:N=void 0;break;case 1:N=nn(_.parameterStructures,T[0]);break;default:N=[];for(let ne=0;ne<T.length&&ne<A;ne++)N.push(ot(T[ne]));if(T.length<A)for(let ne=T.length;ne<A;ne++)N.push(null);break}return N}let ht={sendNotification:(_,...T)=>{Tt();let N,A;if(le.string(_)){N=_;let ee=T[0],ce=0,ue=U.ParameterStructures.auto;U.ParameterStructures.is(ee)&&(ce=1,ue=ee);let z=T.length,re=z-ce;switch(re){case 0:A=void 0;break;case 1:A=nn(ue,T[ce]);break;default:if(ue===U.ParameterStructures.byName)throw new Error(`Received ${re} parameters for 'by Name' notification parameter structure.`);A=T.slice(ce,z).map(J=>ot(J));break}}else{let ee=T;N=_.method,A=On(_,ee)}let ne={jsonrpc:R,method:N,params:A};return Qr(ne),t.write(ne).catch(ee=>{throw o.error("Sending notification failed."),ee})},onNotification:(_,T)=>{Tt();let N;return le.func(_)?I=_:T&&(le.string(_)?(N=_,M.set(_,{type:void 0,handler:T})):(N=_.method,M.set(_.method,{type:_,handler:T}))),{dispose:()=>{N!==void 0?M.delete(N):I=void 0}}},onProgress:(_,T,N)=>{if(j.has(T))throw new Error(`Progress handler for token ${T} already registered`);return j.set(T,N),{dispose:()=>{j.delete(T)}}},sendProgress:(_,T,N)=>ht.sendNotification(cn.type,{token:T,value:N}),onUnhandledProgress:Oe.event,sendRequest:(_,...T)=>{Tt(),Yr();let N,A,ne;if(le.string(_)){N=_;let z=T[0],re=T[T.length-1],J=0,me=U.ParameterStructures.auto;U.ParameterStructures.is(z)&&(J=1,me=z);let we=T.length;zi.CancellationToken.is(re)&&(we=we-1,ne=re);let xe=we-J;switch(xe){case 0:A=void 0;break;case 1:A=nn(me,T[J]);break;default:if(me===U.ParameterStructures.byName)throw new Error(`Received ${xe} parameters for 'by Name' request parameter structure.`);A=T.slice(J,we).map(y=>ot(y));break}}else{let z=T;N=_.method,A=On(_,z);let re=_.numberOfParams;ne=zi.CancellationToken.is(z[re])?z[re]:void 0}let ee=a++,ce;ne&&(ce=ne.onCancellationRequested(()=>{let z=ae.sender.sendCancellation(ht,ee);return z===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${ee}`),Promise.resolve()):z.catch(()=>{o.log(`Sending cancellation messages for id ${ee} failed`)})}));let ue={jsonrpc:R,id:ee,method:N,params:A};return Gr(ue),typeof ae.sender.enableCancellation=="function"&&ae.sender.enableCancellation(ue),new Promise(async(z,re)=>{let J=xe=>{z(xe),ae.sender.cleanup(ee),ce?.dispose()},me=xe=>{re(xe),ae.sender.cleanup(ee),ce?.dispose()},we={method:N,timerStart:Date.now(),resolve:J,reject:me};try{await t.write(ue),O.set(ee,we)}catch(xe){throw o.error("Sending request failed."),we.reject(new U.ResponseError(U.ErrorCodes.MessageWriteError,xe.message?xe.message:"Unknown reason")),xe}})},onRequest:(_,T)=>{Tt();let N=null;return Gi.is(_)?(N=void 0,v=_):le.string(_)?(N=null,T!==void 0&&(N=_,S.set(_,{handler:T,type:void 0}))):T!==void 0&&(N=_.method,S.set(_.method,{type:_,handler:T})),{dispose:()=>{N!==null&&(N!==void 0?S.delete(N):v=void 0)}}},hasPendingResponse:()=>O.size>0,trace:async(_,T,N)=>{let A=!1,ne=$e.Text;N!==void 0&&(le.boolean(N)?A=N:(A=N.sendNotification||!1,ne=N.traceFormat||$e.Text)),p=_,E=ne,p===te.Off?W=void 0:W=T,A&&!Ot()&&!ft()&&await ht.sendNotification(ws.type,{value:te.toString(_)})},onError:$.event,onClose:ve.event,onUnhandledNotification:Me.event,onDispose:_t.event,end:()=>{t.end()},dispose:()=>{if(ft())return;V=ze.Disposed,_t.fire(void 0);let _=new U.ResponseError(U.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let T of O.values())T.reject(_);O=new Map,g=new Map,x=new Set,X=new bs.LinkedMap,le.func(t.dispose)&&t.dispose(),le.func(e.dispose)&&e.dispose()},listen:()=>{Tt(),Xr(),V=ze.Listening,e.listen(Vr)},inspect:()=>{(0,ys.default)().console.log("inspect")}};return ht.onNotification(Qi.type,_=>{if(p===te.Off||!W)return;let T=p===te.Verbose||p===te.Compact;W.log(_.message,T?_.verbose:void 0)}),ht.onNotification(cn.type,_=>{let T=j.get(_.token);T?T(_.value):Oe.fire(_)}),ht}q.createMessageConnection=uu});var zn=F(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.ProgressType=w.ProgressToken=w.createMessageConnection=w.NullLogger=w.ConnectionOptions=w.ConnectionStrategy=w.AbstractMessageBuffer=w.WriteableStreamMessageWriter=w.AbstractMessageWriter=w.MessageWriter=w.ReadableStreamMessageReader=w.AbstractMessageReader=w.MessageReader=w.SharedArrayReceiverStrategy=w.SharedArraySenderStrategy=w.CancellationToken=w.CancellationTokenSource=w.Emitter=w.Event=w.Disposable=w.LRUCache=w.Touch=w.LinkedMap=w.ParameterStructures=w.NotificationType9=w.NotificationType8=w.NotificationType7=w.NotificationType6=w.NotificationType5=w.NotificationType4=w.NotificationType3=w.NotificationType2=w.NotificationType1=w.NotificationType0=w.NotificationType=w.ErrorCodes=w.ResponseError=w.RequestType9=w.RequestType8=w.RequestType7=w.RequestType6=w.RequestType5=w.RequestType4=w.RequestType3=w.RequestType2=w.RequestType1=w.RequestType0=w.RequestType=w.Message=w.RAL=void 0;w.MessageStrategy=w.CancellationStrategy=w.CancellationSenderStrategy=w.CancellationReceiverStrategy=w.ConnectionError=w.ConnectionErrors=w.LogTraceNotification=w.SetTraceNotification=w.TraceFormat=w.TraceValues=w.Trace=void 0;var oe=Ti();Object.defineProperty(w,"Message",{enumerable:!0,get:function(){return oe.Message}});Object.defineProperty(w,"RequestType",{enumerable:!0,get:function(){return oe.RequestType}});Object.defineProperty(w,"RequestType0",{enumerable:!0,get:function(){return oe.RequestType0}});Object.defineProperty(w,"RequestType1",{enumerable:!0,get:function(){return oe.RequestType1}});Object.defineProperty(w,"RequestType2",{enumerable:!0,get:function(){return oe.RequestType2}});Object.defineProperty(w,"RequestType3",{enumerable:!0,get:function(){return oe.RequestType3}});Object.defineProperty(w,"RequestType4",{enumerable:!0,get:function(){return oe.RequestType4}});Object.defineProperty(w,"RequestType5",{enumerable:!0,get:function(){return oe.RequestType5}});Object.defineProperty(w,"RequestType6",{enumerable:!0,get:function(){return oe.RequestType6}});Object.defineProperty(w,"RequestType7",{enumerable:!0,get:function(){return oe.RequestType7}});Object.defineProperty(w,"RequestType8",{enumerable:!0,get:function(){return oe.RequestType8}});Object.defineProperty(w,"RequestType9",{enumerable:!0,get:function(){return oe.RequestType9}});Object.defineProperty(w,"ResponseError",{enumerable:!0,get:function(){return oe.ResponseError}});Object.defineProperty(w,"ErrorCodes",{enumerable:!0,get:function(){return oe.ErrorCodes}});Object.defineProperty(w,"NotificationType",{enumerable:!0,get:function(){return oe.NotificationType}});Object.defineProperty(w,"NotificationType0",{enumerable:!0,get:function(){return oe.NotificationType0}});Object.defineProperty(w,"NotificationType1",{enumerable:!0,get:function(){return oe.NotificationType1}});Object.defineProperty(w,"NotificationType2",{enumerable:!0,get:function(){return oe.NotificationType2}});Object.defineProperty(w,"NotificationType3",{enumerable:!0,get:function(){return oe.NotificationType3}});Object.defineProperty(w,"NotificationType4",{enumerable:!0,get:function(){return oe.NotificationType4}});Object.defineProperty(w,"NotificationType5",{enumerable:!0,get:function(){return oe.NotificationType5}});Object.defineProperty(w,"NotificationType6",{enumerable:!0,get:function(){return oe.NotificationType6}});Object.defineProperty(w,"NotificationType7",{enumerable:!0,get:function(){return oe.NotificationType7}});Object.defineProperty(w,"NotificationType8",{enumerable:!0,get:function(){return oe.NotificationType8}});Object.defineProperty(w,"NotificationType9",{enumerable:!0,get:function(){return oe.NotificationType9}});Object.defineProperty(w,"ParameterStructures",{enumerable:!0,get:function(){return oe.ParameterStructures}});var to=Pi();Object.defineProperty(w,"LinkedMap",{enumerable:!0,get:function(){return to.LinkedMap}});Object.defineProperty(w,"LRUCache",{enumerable:!0,get:function(){return to.LRUCache}});Object.defineProperty(w,"Touch",{enumerable:!0,get:function(){return to.Touch}});var lu=us();Object.defineProperty(w,"Disposable",{enumerable:!0,get:function(){return lu.Disposable}});var Ps=jt();Object.defineProperty(w,"Event",{enumerable:!0,get:function(){return Ps.Event}});Object.defineProperty(w,"Emitter",{enumerable:!0,get:function(){return Ps.Emitter}});var Es=Wn();Object.defineProperty(w,"CancellationTokenSource",{enumerable:!0,get:function(){return Es.CancellationTokenSource}});Object.defineProperty(w,"CancellationToken",{enumerable:!0,get:function(){return Es.CancellationToken}});var Ss=ls();Object.defineProperty(w,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Ss.SharedArraySenderStrategy}});Object.defineProperty(w,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Ss.SharedArrayReceiverStrategy}});var no=ds();Object.defineProperty(w,"MessageReader",{enumerable:!0,get:function(){return no.MessageReader}});Object.defineProperty(w,"AbstractMessageReader",{enumerable:!0,get:function(){return no.AbstractMessageReader}});Object.defineProperty(w,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return no.ReadableStreamMessageReader}});var ro=gs();Object.defineProperty(w,"MessageWriter",{enumerable:!0,get:function(){return ro.MessageWriter}});Object.defineProperty(w,"AbstractMessageWriter",{enumerable:!0,get:function(){return ro.AbstractMessageWriter}});Object.defineProperty(w,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ro.WriteableStreamMessageWriter}});var du=ps();Object.defineProperty(w,"AbstractMessageBuffer",{enumerable:!0,get:function(){return du.AbstractMessageBuffer}});var Re=Cs();Object.defineProperty(w,"ConnectionStrategy",{enumerable:!0,get:function(){return Re.ConnectionStrategy}});Object.defineProperty(w,"ConnectionOptions",{enumerable:!0,get:function(){return Re.ConnectionOptions}});Object.defineProperty(w,"NullLogger",{enumerable:!0,get:function(){return Re.NullLogger}});Object.defineProperty(w,"createMessageConnection",{enumerable:!0,get:function(){return Re.createMessageConnection}});Object.defineProperty(w,"ProgressToken",{enumerable:!0,get:function(){return Re.ProgressToken}});Object.defineProperty(w,"ProgressType",{enumerable:!0,get:function(){return Re.ProgressType}});Object.defineProperty(w,"Trace",{enumerable:!0,get:function(){return Re.Trace}});Object.defineProperty(w,"TraceValues",{enumerable:!0,get:function(){return Re.TraceValues}});Object.defineProperty(w,"TraceFormat",{enumerable:!0,get:function(){return Re.TraceFormat}});Object.defineProperty(w,"SetTraceNotification",{enumerable:!0,get:function(){return Re.SetTraceNotification}});Object.defineProperty(w,"LogTraceNotification",{enumerable:!0,get:function(){return Re.LogTraceNotification}});Object.defineProperty(w,"ConnectionErrors",{enumerable:!0,get:function(){return Re.ConnectionErrors}});Object.defineProperty(w,"ConnectionError",{enumerable:!0,get:function(){return Re.ConnectionError}});Object.defineProperty(w,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Re.CancellationReceiverStrategy}});Object.defineProperty(w,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Re.CancellationSenderStrategy}});Object.defineProperty(w,"CancellationStrategy",{enumerable:!0,get:function(){return Re.CancellationStrategy}});Object.defineProperty(w,"MessageStrategy",{enumerable:!0,get:function(){return Re.MessageStrategy}});var _u=gt();w.RAL=_u.default});var Ns=F(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var Ds=require("util"),lt=zn(),Zn=class e extends lt.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new Ds.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Zn.emptyBuffer=Buffer.allocUnsafe(0);var io=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),lt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),lt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),lt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),lt.Disposable.create(()=>this.stream.off("data",t))}},oo=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),lt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),lt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),lt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,o)=>{let a=d=>{d==null?r():o(d)};typeof t=="string"?this.stream.write(t,n,a):this.stream.write(t,a)})}end(){this.stream.end()}},Is=Object.freeze({messageBuffer:Object.freeze({create:e=>new Zn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Ds.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new io(e),asWritableStream:e=>new oo(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function so(){return Is}(function(e){function t(){lt.RAL.install(Is)}e.install=t})(so||(so={}));ao.default=so});var It=F(G=>{"use strict";var fu=G&&G.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),mu=G&&G.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&fu(t,e,n)};Object.defineProperty(G,"__esModule",{value:!0});G.createMessageConnection=G.createServerSocketTransport=G.createClientSocketTransport=G.createServerPipeTransport=G.createClientPipeTransport=G.generateRandomPipeName=G.StreamMessageWriter=G.StreamMessageReader=G.SocketMessageWriter=G.SocketMessageReader=G.PortMessageWriter=G.PortMessageReader=G.IPCMessageWriter=G.IPCMessageReader=void 0;var Bt=Ns();Bt.default.install();var ks=require("path"),hu=require("os"),gu=require("crypto"),Kn=require("net"),qe=zn();mu(zn(),G);var co=class extends qe.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),qe.Disposable.create(()=>this.process.off("message",t))}};G.IPCMessageReader=co;var uo=class extends qe.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};G.IPCMessageWriter=uo;var lo=class extends qe.AbstractMessageReader{constructor(t){super(),this.onData=new qe.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};G.PortMessageReader=lo;var _o=class extends qe.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};G.PortMessageWriter=_o;var St=class extends qe.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,Bt.default)().stream.asReadableStream(t),n)}};G.SocketMessageReader=St;var Dt=class extends qe.WriteableStreamMessageWriter{constructor(t,n){super((0,Bt.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};G.SocketMessageWriter=Dt;var Gn=class extends qe.ReadableStreamMessageReader{constructor(t,n){super((0,Bt.default)().stream.asReadableStream(t),n)}};G.StreamMessageReader=Gn;var Qn=class extends qe.WriteableStreamMessageWriter{constructor(t,n){super((0,Bt.default)().stream.asWritableStream(t),n)}};G.StreamMessageWriter=Qn;var Ms=process.env.XDG_RUNTIME_DIR,pu=new Map([["linux",107],["darwin",103]]);function yu(){let e=(0,gu.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Ms?t=ks.join(Ms,`vscode-ipc-${e}.sock`):t=ks.join(hu.tmpdir(),`vscode-${e}.sock`);let n=pu.get(process.platform);return n!==void 0&&t.length>n&&(0,Bt.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}G.generateRandomPipeName=yu;function bu(e,t="utf-8"){let n,r=new Promise((o,a)=>{n=o});return new Promise((o,a)=>{let d=(0,Kn.createServer)(f=>{d.close(),n([new St(f,t),new Dt(f,t)])});d.on("error",a),d.listen(e,()=>{d.removeListener("error",a),o({onConnected:()=>r})})})}G.createClientPipeTransport=bu;function vu(e,t="utf-8"){let n=(0,Kn.createConnection)(e);return[new St(n,t),new Dt(n,t)]}G.createServerPipeTransport=vu;function wu(e,t="utf-8"){let n,r=new Promise((o,a)=>{n=o});return new Promise((o,a)=>{let d=(0,Kn.createServer)(f=>{d.close(),n([new St(f,t),new Dt(f,t)])});d.on("error",a),d.listen(e,"127.0.0.1",()=>{d.removeListener("error",a),o({onConnected:()=>r})})})}G.createClientSocketTransport=wu;function Ru(e,t="utf-8"){let n=(0,Kn.createConnection)(e,"127.0.0.1");return[new St(n,t),new Dt(n,t)]}G.createServerSocketTransport=Ru;function Tu(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function Cu(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function Pu(e,t,n,r){n||(n=qe.NullLogger);let o=Tu(e)?new Gn(e):e,a=Cu(t)?new Qn(t):t;return qe.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,qe.createMessageConnection)(o,a,n,r)}G.createMessageConnection=Pu});var fo=F((Df,Fs)=>{"use strict";Fs.exports=It()});var Xn=F((Os,Jn)=>{(function(e){if(typeof Jn=="object"&&typeof Jn.exports=="object"){var t=e(require,Os);t!==void 0&&(Jn.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(c){function m(h){return typeof h=="string"}c.is=m})(n=t.DocumentUri||(t.DocumentUri={}));var r;(function(c){function m(h){return typeof h=="string"}c.is=m})(r=t.URI||(t.URI={}));var o;(function(c){c.MIN_VALUE=-2147483648,c.MAX_VALUE=2147483647;function m(h){return typeof h=="number"&&c.MIN_VALUE<=h&&h<=c.MAX_VALUE}c.is=m})(o=t.integer||(t.integer={}));var a;(function(c){c.MIN_VALUE=0,c.MAX_VALUE=2147483647;function m(h){return typeof h=="number"&&c.MIN_VALUE<=h&&h<=c.MAX_VALUE}c.is=m})(a=t.uinteger||(t.uinteger={}));var d;(function(c){function m(l,s){return l===Number.MAX_VALUE&&(l=a.MAX_VALUE),s===Number.MAX_VALUE&&(s=a.MAX_VALUE),{line:l,character:s}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&y.uinteger(s.line)&&y.uinteger(s.character)}c.is=h})(d=t.Position||(t.Position={}));var f;(function(c){function m(l,s,b,P){if(y.uinteger(l)&&y.uinteger(s)&&y.uinteger(b)&&y.uinteger(P))return{start:d.create(l,s),end:d.create(b,P)};if(d.is(l)&&d.is(s))return{start:l,end:s};throw new Error("Range#create called with invalid arguments[".concat(l,", ").concat(s,", ").concat(b,", ").concat(P,"]"))}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&d.is(s.start)&&d.is(s.end)}c.is=h})(f=t.Range||(t.Range={}));var R;(function(c){function m(l,s){return{uri:l,range:s}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&f.is(s.range)&&(y.string(s.uri)||y.undefined(s.uri))}c.is=h})(R=t.Location||(t.Location={}));var v;(function(c){function m(l,s,b,P){return{targetUri:l,targetRange:s,targetSelectionRange:b,originSelectionRange:P}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&f.is(s.targetRange)&&y.string(s.targetUri)&&f.is(s.targetSelectionRange)&&(f.is(s.originSelectionRange)||y.undefined(s.originSelectionRange))}c.is=h})(v=t.LocationLink||(t.LocationLink={}));var S;(function(c){function m(l,s,b,P){return{red:l,green:s,blue:b,alpha:P}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&y.numberRange(s.red,0,1)&&y.numberRange(s.green,0,1)&&y.numberRange(s.blue,0,1)&&y.numberRange(s.alpha,0,1)}c.is=h})(S=t.Color||(t.Color={}));var I;(function(c){function m(l,s){return{range:l,color:s}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&f.is(s.range)&&S.is(s.color)}c.is=h})(I=t.ColorInformation||(t.ColorInformation={}));var M;(function(c){function m(l,s,b){return{label:l,textEdit:s,additionalTextEdits:b}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&y.string(s.label)&&(y.undefined(s.textEdit)||W.is(s))&&(y.undefined(s.additionalTextEdits)||y.typedArray(s.additionalTextEdits,W.is))}c.is=h})(M=t.ColorPresentation||(t.ColorPresentation={}));var j;(function(c){c.Comment="comment",c.Imports="imports",c.Region="region"})(j=t.FoldingRangeKind||(t.FoldingRangeKind={}));var Y;(function(c){function m(l,s,b,P,B,fe){var ie={startLine:l,endLine:s};return y.defined(b)&&(ie.startCharacter=b),y.defined(P)&&(ie.endCharacter=P),y.defined(B)&&(ie.kind=B),y.defined(fe)&&(ie.collapsedText=fe),ie}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&y.uinteger(s.startLine)&&y.uinteger(s.startLine)&&(y.undefined(s.startCharacter)||y.uinteger(s.startCharacter))&&(y.undefined(s.endCharacter)||y.uinteger(s.endCharacter))&&(y.undefined(s.kind)||y.string(s.kind))}c.is=h})(Y=t.FoldingRange||(t.FoldingRange={}));var X;(function(c){function m(l,s){return{location:l,message:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&R.is(s.location)&&y.string(s.message)}c.is=h})(X=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var O;(function(c){c.Error=1,c.Warning=2,c.Information=3,c.Hint=4})(O=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var x;(function(c){c.Unnecessary=1,c.Deprecated=2})(x=t.DiagnosticTag||(t.DiagnosticTag={}));var g;(function(c){function m(h){var l=h;return y.objectLiteral(l)&&y.string(l.href)}c.is=m})(g=t.CodeDescription||(t.CodeDescription={}));var p;(function(c){function m(l,s,b,P,B,fe){var ie={range:l,message:s};return y.defined(b)&&(ie.severity=b),y.defined(P)&&(ie.code=P),y.defined(B)&&(ie.source=B),y.defined(fe)&&(ie.relatedInformation=fe),ie}c.create=m;function h(l){var s,b=l;return y.defined(b)&&f.is(b.range)&&y.string(b.message)&&(y.number(b.severity)||y.undefined(b.severity))&&(y.integer(b.code)||y.string(b.code)||y.undefined(b.code))&&(y.undefined(b.codeDescription)||y.string((s=b.codeDescription)===null||s===void 0?void 0:s.href))&&(y.string(b.source)||y.undefined(b.source))&&(y.undefined(b.relatedInformation)||y.typedArray(b.relatedInformation,X.is))}c.is=h})(p=t.Diagnostic||(t.Diagnostic={}));var E;(function(c){function m(l,s){for(var b=[],P=2;P<arguments.length;P++)b[P-2]=arguments[P];var B={title:l,command:s};return y.defined(b)&&b.length>0&&(B.arguments=b),B}c.create=m;function h(l){var s=l;return y.defined(s)&&y.string(s.title)&&y.string(s.command)}c.is=h})(E=t.Command||(t.Command={}));var W;(function(c){function m(b,P){return{range:b,newText:P}}c.replace=m;function h(b,P){return{range:{start:b,end:b},newText:P}}c.insert=h;function l(b){return{range:b,newText:""}}c.del=l;function s(b){var P=b;return y.objectLiteral(P)&&y.string(P.newText)&&f.is(P.range)}c.is=s})(W=t.TextEdit||(t.TextEdit={}));var V;(function(c){function m(l,s,b){var P={label:l};return s!==void 0&&(P.needsConfirmation=s),b!==void 0&&(P.description=b),P}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&y.string(s.label)&&(y.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(y.string(s.description)||s.description===void 0)}c.is=h})(V=t.ChangeAnnotation||(t.ChangeAnnotation={}));var $;(function(c){function m(h){var l=h;return y.string(l)}c.is=m})($=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var ve;(function(c){function m(b,P,B){return{range:b,newText:P,annotationId:B}}c.replace=m;function h(b,P,B){return{range:{start:b,end:b},newText:P,annotationId:B}}c.insert=h;function l(b,P){return{range:b,newText:"",annotationId:P}}c.del=l;function s(b){var P=b;return W.is(P)&&(V.is(P.annotationId)||$.is(P.annotationId))}c.is=s})(ve=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var Me;(function(c){function m(l,s){return{textDocument:l,edits:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&Ot.is(s.textDocument)&&Array.isArray(s.edits)}c.is=h})(Me=t.TextDocumentEdit||(t.TextDocumentEdit={}));var Oe;(function(c){function m(l,s,b){var P={kind:"create",uri:l};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(P.options=s),b!==void 0&&(P.annotationId=b),P}c.create=m;function h(l){var s=l;return s&&s.kind==="create"&&y.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||y.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||y.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||$.is(s.annotationId))}c.is=h})(Oe=t.CreateFile||(t.CreateFile={}));var _t;(function(c){function m(l,s,b,P){var B={kind:"rename",oldUri:l,newUri:s};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(B.options=b),P!==void 0&&(B.annotationId=P),B}c.create=m;function h(l){var s=l;return s&&s.kind==="rename"&&y.string(s.oldUri)&&y.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||y.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||y.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||$.is(s.annotationId))}c.is=h})(_t=t.RenameFile||(t.RenameFile={}));var ae;(function(c){function m(l,s,b){var P={kind:"delete",uri:l};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(P.options=s),b!==void 0&&(P.annotationId=b),P}c.create=m;function h(l){var s=l;return s&&s.kind==="delete"&&y.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||y.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||y.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||$.is(s.annotationId))}c.is=h})(ae=t.DeleteFile||(t.DeleteFile={}));var Ae;(function(c){function m(h){var l=h;return l&&(l.changes!==void 0||l.documentChanges!==void 0)&&(l.documentChanges===void 0||l.documentChanges.every(function(s){return y.string(s.kind)?Oe.is(s)||_t.is(s)||ae.is(s):Me.is(s)}))}c.is=m})(Ae=t.WorkspaceEdit||(t.WorkspaceEdit={}));var it=(function(){function c(m,h){this.edits=m,this.changeAnnotations=h}return c.prototype.insert=function(m,h,l){var s,b;if(l===void 0?s=W.insert(m,h):$.is(l)?(b=l,s=ve.insert(m,h,l)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(l),s=ve.insert(m,h,b)),this.edits.push(s),b!==void 0)return b},c.prototype.replace=function(m,h,l){var s,b;if(l===void 0?s=W.replace(m,h):$.is(l)?(b=l,s=ve.replace(m,h,l)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(l),s=ve.replace(m,h,b)),this.edits.push(s),b!==void 0)return b},c.prototype.delete=function(m,h){var l,s;if(h===void 0?l=W.del(m):$.is(h)?(s=h,l=ve.del(m,h)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(h),l=ve.del(m,s)),this.edits.push(l),s!==void 0)return s},c.prototype.add=function(m){this.edits.push(m)},c.prototype.all=function(){return this.edits},c.prototype.clear=function(){this.edits.splice(0,this.edits.length)},c.prototype.assertChangeAnnotations=function(m){if(m===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},c})(),Dn=(function(){function c(m){this._annotations=m===void 0?Object.create(null):m,this._counter=0,this._size=0}return c.prototype.all=function(){return this._annotations},Object.defineProperty(c.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),c.prototype.manage=function(m,h){var l;if($.is(m)?l=m:(l=this.nextId(),h=m),this._annotations[l]!==void 0)throw new Error("Id ".concat(l," is already in use."));if(h===void 0)throw new Error("No annotation provided for id ".concat(l));return this._annotations[l]=h,this._size++,l},c.prototype.nextId=function(){return this._counter++,this._counter.toString()},c})(),Wr=(function(){function c(m){var h=this;this._textEditChanges=Object.create(null),m!==void 0?(this._workspaceEdit=m,m.documentChanges?(this._changeAnnotations=new Dn(m.changeAnnotations),m.changeAnnotations=this._changeAnnotations.all(),m.documentChanges.forEach(function(l){if(Me.is(l)){var s=new it(l.edits,h._changeAnnotations);h._textEditChanges[l.textDocument.uri]=s}})):m.changes&&Object.keys(m.changes).forEach(function(l){var s=new it(m.changes[l]);h._textEditChanges[l]=s})):this._workspaceEdit={}}return Object.defineProperty(c.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),c.prototype.getTextEditChange=function(m){if(Ot.is(m)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var h={uri:m.uri,version:m.version},l=this._textEditChanges[h.uri];if(!l){var s=[],b={textDocument:h,edits:s};this._workspaceEdit.documentChanges.push(b),l=new it(s,this._changeAnnotations),this._textEditChanges[h.uri]=l}return l}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var l=this._textEditChanges[m];if(!l){var s=[];this._workspaceEdit.changes[m]=s,l=new it(s),this._textEditChanges[m]=l}return l}},c.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Dn,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},c.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},c.prototype.createFile=function(m,h,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;V.is(h)||$.is(h)?s=h:l=h;var b,P;if(s===void 0?b=Oe.create(m,l):(P=$.is(s)?s:this._changeAnnotations.manage(s),b=Oe.create(m,l,P)),this._workspaceEdit.documentChanges.push(b),P!==void 0)return P},c.prototype.renameFile=function(m,h,l,s){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;V.is(l)||$.is(l)?b=l:s=l;var P,B;if(b===void 0?P=_t.create(m,h,s):(B=$.is(b)?b:this._changeAnnotations.manage(b),P=_t.create(m,h,s,B)),this._workspaceEdit.documentChanges.push(P),B!==void 0)return B},c.prototype.deleteFile=function(m,h,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;V.is(h)||$.is(h)?s=h:l=h;var b,P;if(s===void 0?b=ae.create(m,l):(P=$.is(s)?s:this._changeAnnotations.manage(s),b=ae.create(m,l,P)),this._workspaceEdit.documentChanges.push(b),P!==void 0)return P},c})();t.WorkspaceChange=Wr;var Ur;(function(c){function m(l){return{uri:l}}c.create=m;function h(l){var s=l;return y.defined(s)&&y.string(s.uri)}c.is=h})(Ur=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var In;(function(c){function m(l,s){return{uri:l,version:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&y.string(s.uri)&&y.integer(s.version)}c.is=h})(In=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var Ot;(function(c){function m(l,s){return{uri:l,version:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&y.string(s.uri)&&(s.version===null||y.integer(s.version))}c.is=h})(Ot=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var ft;(function(c){function m(l,s,b,P){return{uri:l,languageId:s,version:b,text:P}}c.create=m;function h(l){var s=l;return y.defined(s)&&y.string(s.uri)&&y.string(s.languageId)&&y.integer(s.version)&&y.string(s.text)}c.is=h})(ft=t.TextDocumentItem||(t.TextDocumentItem={}));var Yt;(function(c){c.PlainText="plaintext",c.Markdown="markdown";function m(h){var l=h;return l===c.PlainText||l===c.Markdown}c.is=m})(Yt=t.MarkupKind||(t.MarkupKind={}));var At;(function(c){function m(h){var l=h;return y.objectLiteral(h)&&Yt.is(l.kind)&&y.string(l.value)}c.is=m})(At=t.MarkupContent||(t.MarkupContent={}));var Hr;(function(c){c.Text=1,c.Method=2,c.Function=3,c.Constructor=4,c.Field=5,c.Variable=6,c.Class=7,c.Interface=8,c.Module=9,c.Property=10,c.Unit=11,c.Value=12,c.Enum=13,c.Keyword=14,c.Snippet=15,c.Color=16,c.File=17,c.Reference=18,c.Folder=19,c.EnumMember=20,c.Constant=21,c.Struct=22,c.Event=23,c.Operator=24,c.TypeParameter=25})(Hr=t.CompletionItemKind||(t.CompletionItemKind={}));var Nn;(function(c){c.PlainText=1,c.Snippet=2})(Nn=t.InsertTextFormat||(t.InsertTextFormat={}));var kn;(function(c){c.Deprecated=1})(kn=t.CompletionItemTag||(t.CompletionItemTag={}));var Br;(function(c){function m(l,s,b){return{newText:l,insert:s,replace:b}}c.create=m;function h(l){var s=l;return s&&y.string(s.newText)&&f.is(s.insert)&&f.is(s.replace)}c.is=h})(Br=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var Vr;(function(c){c.asIs=1,c.adjustIndentation=2})(Vr=t.InsertTextMode||(t.InsertTextMode={}));var $r;(function(c){function m(h){var l=h;return l&&(y.string(l.detail)||l.detail===void 0)&&(y.string(l.description)||l.description===void 0)}c.is=m})($r=t.CompletionItemLabelDetails||(t.CompletionItemLabelDetails={}));var zr;(function(c){function m(h){return{label:h}}c.create=m})(zr=t.CompletionItem||(t.CompletionItem={}));var Zr;(function(c){function m(h,l){return{items:h||[],isIncomplete:!!l}}c.create=m})(Zr=t.CompletionList||(t.CompletionList={}));var en;(function(c){function m(l){return l.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}c.fromPlainText=m;function h(l){var s=l;return y.string(s)||y.objectLiteral(s)&&y.string(s.language)&&y.string(s.value)}c.is=h})(en=t.MarkedString||(t.MarkedString={}));var et;(function(c){function m(h){var l=h;return!!l&&y.objectLiteral(l)&&(At.is(l.contents)||en.is(l.contents)||y.typedArray(l.contents,en.is))&&(h.range===void 0||f.is(h.range))}c.is=m})(et=t.Hover||(t.Hover={}));var Gr;(function(c){function m(h,l){return l?{label:h,documentation:l}:{label:h}}c.create=m})(Gr=t.ParameterInformation||(t.ParameterInformation={}));var Qr;(function(c){function m(h,l){for(var s=[],b=2;b<arguments.length;b++)s[b-2]=arguments[b];var P={label:h};return y.defined(l)&&(P.documentation=l),y.defined(s)?P.parameters=s:P.parameters=[],P}c.create=m})(Qr=t.SignatureInformation||(t.SignatureInformation={}));var qt;(function(c){c.Text=1,c.Read=2,c.Write=3})(qt=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Kr;(function(c){function m(h,l){var s={range:h};return y.number(l)&&(s.kind=l),s}c.create=m})(Kr=t.DocumentHighlight||(t.DocumentHighlight={}));var tn;(function(c){c.File=1,c.Module=2,c.Namespace=3,c.Package=4,c.Class=5,c.Method=6,c.Property=7,c.Field=8,c.Constructor=9,c.Enum=10,c.Interface=11,c.Function=12,c.Variable=13,c.Constant=14,c.String=15,c.Number=16,c.Boolean=17,c.Array=18,c.Object=19,c.Key=20,c.Null=21,c.EnumMember=22,c.Struct=23,c.Event=24,c.Operator=25,c.TypeParameter=26})(tn=t.SymbolKind||(t.SymbolKind={}));var Jr;(function(c){c.Deprecated=1})(Jr=t.SymbolTag||(t.SymbolTag={}));var mt;(function(c){function m(h,l,s,b,P){var B={name:h,kind:l,location:{uri:b,range:s}};return P&&(B.containerName=P),B}c.create=m})(mt=t.SymbolInformation||(t.SymbolInformation={}));var Tt;(function(c){function m(h,l,s,b){return b!==void 0?{name:h,kind:l,location:{uri:s,range:b}}:{name:h,kind:l,location:{uri:s}}}c.create=m})(Tt=t.WorkspaceSymbol||(t.WorkspaceSymbol={}));var Xr;(function(c){function m(l,s,b,P,B,fe){var ie={name:l,detail:s,kind:b,range:P,selectionRange:B};return fe!==void 0&&(ie.children=fe),ie}c.create=m;function h(l){var s=l;return s&&y.string(s.name)&&y.number(s.kind)&&f.is(s.range)&&f.is(s.selectionRange)&&(s.detail===void 0||y.string(s.detail))&&(s.deprecated===void 0||y.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}c.is=h})(Xr=t.DocumentSymbol||(t.DocumentSymbol={}));var Yr;(function(c){c.Empty="",c.QuickFix="quickfix",c.Refactor="refactor",c.RefactorExtract="refactor.extract",c.RefactorInline="refactor.inline",c.RefactorRewrite="refactor.rewrite",c.Source="source",c.SourceOrganizeImports="source.organizeImports",c.SourceFixAll="source.fixAll"})(Yr=t.CodeActionKind||(t.CodeActionKind={}));var ot;(function(c){c.Invoked=1,c.Automatic=2})(ot=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}));var Mn;(function(c){function m(l,s,b){var P={diagnostics:l};return s!=null&&(P.only=s),b!=null&&(P.triggerKind=b),P}c.create=m;function h(l){var s=l;return y.defined(s)&&y.typedArray(s.diagnostics,p.is)&&(s.only===void 0||y.typedArray(s.only,y.string))&&(s.triggerKind===void 0||s.triggerKind===ot.Invoked||s.triggerKind===ot.Automatic)}c.is=h})(Mn=t.CodeActionContext||(t.CodeActionContext={}));var Fn;(function(c){function m(l,s,b){var P={title:l},B=!0;return typeof s=="string"?(B=!1,P.kind=s):E.is(s)?P.command=s:P.edit=s,B&&b!==void 0&&(P.kind=b),P}c.create=m;function h(l){var s=l;return s&&y.string(s.title)&&(s.diagnostics===void 0||y.typedArray(s.diagnostics,p.is))&&(s.kind===void 0||y.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||E.is(s.command))&&(s.isPreferred===void 0||y.boolean(s.isPreferred))&&(s.edit===void 0||Ae.is(s.edit))}c.is=h})(Fn=t.CodeAction||(t.CodeAction={}));var nn;(function(c){function m(l,s){var b={range:l};return y.defined(s)&&(b.data=s),b}c.create=m;function h(l){var s=l;return y.defined(s)&&f.is(s.range)&&(y.undefined(s.command)||E.is(s.command))}c.is=h})(nn=t.CodeLens||(t.CodeLens={}));var On;(function(c){function m(l,s){return{tabSize:l,insertSpaces:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&y.uinteger(s.tabSize)&&y.boolean(s.insertSpaces)}c.is=h})(On=t.FormattingOptions||(t.FormattingOptions={}));var ht;(function(c){function m(l,s,b){return{range:l,target:s,data:b}}c.create=m;function h(l){var s=l;return y.defined(s)&&f.is(s.range)&&(y.undefined(s.target)||y.string(s.target))}c.is=h})(ht=t.DocumentLink||(t.DocumentLink={}));var _;(function(c){function m(l,s){return{range:l,parent:s}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&f.is(s.range)&&(s.parent===void 0||c.is(s.parent))}c.is=h})(_=t.SelectionRange||(t.SelectionRange={}));var T;(function(c){c.namespace="namespace",c.type="type",c.class="class",c.enum="enum",c.interface="interface",c.struct="struct",c.typeParameter="typeParameter",c.parameter="parameter",c.variable="variable",c.property="property",c.enumMember="enumMember",c.event="event",c.function="function",c.method="method",c.macro="macro",c.keyword="keyword",c.modifier="modifier",c.comment="comment",c.string="string",c.number="number",c.regexp="regexp",c.operator="operator",c.decorator="decorator"})(T=t.SemanticTokenTypes||(t.SemanticTokenTypes={}));var N;(function(c){c.declaration="declaration",c.definition="definition",c.readonly="readonly",c.static="static",c.deprecated="deprecated",c.abstract="abstract",c.async="async",c.modification="modification",c.documentation="documentation",c.defaultLibrary="defaultLibrary"})(N=t.SemanticTokenModifiers||(t.SemanticTokenModifiers={}));var A;(function(c){function m(h){var l=h;return y.objectLiteral(l)&&(l.resultId===void 0||typeof l.resultId=="string")&&Array.isArray(l.data)&&(l.data.length===0||typeof l.data[0]=="number")}c.is=m})(A=t.SemanticTokens||(t.SemanticTokens={}));var ne;(function(c){function m(l,s){return{range:l,text:s}}c.create=m;function h(l){var s=l;return s!=null&&f.is(s.range)&&y.string(s.text)}c.is=h})(ne=t.InlineValueText||(t.InlineValueText={}));var ee;(function(c){function m(l,s,b){return{range:l,variableName:s,caseSensitiveLookup:b}}c.create=m;function h(l){var s=l;return s!=null&&f.is(s.range)&&y.boolean(s.caseSensitiveLookup)&&(y.string(s.variableName)||s.variableName===void 0)}c.is=h})(ee=t.InlineValueVariableLookup||(t.InlineValueVariableLookup={}));var ce;(function(c){function m(l,s){return{range:l,expression:s}}c.create=m;function h(l){var s=l;return s!=null&&f.is(s.range)&&(y.string(s.expression)||s.expression===void 0)}c.is=h})(ce=t.InlineValueEvaluatableExpression||(t.InlineValueEvaluatableExpression={}));var ue;(function(c){function m(l,s){return{frameId:l,stoppedLocation:s}}c.create=m;function h(l){var s=l;return y.defined(s)&&f.is(l.stoppedLocation)}c.is=h})(ue=t.InlineValueContext||(t.InlineValueContext={}));var z;(function(c){c.Type=1,c.Parameter=2;function m(h){return h===1||h===2}c.is=m})(z=t.InlayHintKind||(t.InlayHintKind={}));var re;(function(c){function m(l){return{value:l}}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&(s.tooltip===void 0||y.string(s.tooltip)||At.is(s.tooltip))&&(s.location===void 0||R.is(s.location))&&(s.command===void 0||E.is(s.command))}c.is=h})(re=t.InlayHintLabelPart||(t.InlayHintLabelPart={}));var J;(function(c){function m(l,s,b){var P={position:l,label:s};return b!==void 0&&(P.kind=b),P}c.create=m;function h(l){var s=l;return y.objectLiteral(s)&&d.is(s.position)&&(y.string(s.label)||y.typedArray(s.label,re.is))&&(s.kind===void 0||z.is(s.kind))&&s.textEdits===void 0||y.typedArray(s.textEdits,W.is)&&(s.tooltip===void 0||y.string(s.tooltip)||At.is(s.tooltip))&&(s.paddingLeft===void 0||y.boolean(s.paddingLeft))&&(s.paddingRight===void 0||y.boolean(s.paddingRight))}c.is=h})(J=t.InlayHint||(t.InlayHint={}));var me;(function(c){function m(h){var l=h;return y.objectLiteral(l)&&r.is(l.uri)&&y.string(l.name)}c.is=m})(me=t.WorkspaceFolder||(t.WorkspaceFolder={})),t.EOL=[`
`,`\r
`,"\r"];var we;(function(c){function m(b,P,B,fe){return new xe(b,P,B,fe)}c.create=m;function h(b){var P=b;return!!(y.defined(P)&&y.string(P.uri)&&(y.undefined(P.languageId)||y.string(P.languageId))&&y.uinteger(P.lineCount)&&y.func(P.getText)&&y.func(P.positionAt)&&y.func(P.offsetAt))}c.is=h;function l(b,P){for(var B=b.getText(),fe=s(P,function(Lt,An){var Yo=Lt.range.start.line-An.range.start.line;return Yo===0?Lt.range.start.character-An.range.start.character:Yo}),ie=B.length,Be=fe.length-1;Be>=0;Be--){var Ve=fe[Be],st=b.offsetAt(Ve.range.start),Z=b.offsetAt(Ve.range.end);if(Z<=ie)B=B.substring(0,st)+Ve.newText+B.substring(Z,B.length);else throw new Error("Overlapping edit");ie=st}return B}c.applyEdits=l;function s(b,P){if(b.length<=1)return b;var B=b.length/2|0,fe=b.slice(0,B),ie=b.slice(B);s(fe,P),s(ie,P);for(var Be=0,Ve=0,st=0;Be<fe.length&&Ve<ie.length;){var Z=P(fe[Be],ie[Ve]);Z<=0?b[st++]=fe[Be++]:b[st++]=ie[Ve++]}for(;Be<fe.length;)b[st++]=fe[Be++];for(;Ve<ie.length;)b[st++]=ie[Ve++];return b}})(we=t.TextDocument||(t.TextDocument={}));var xe=(function(){function c(m,h,l,s){this._uri=m,this._languageId=h,this._version=l,this._content=s,this._lineOffsets=void 0}return Object.defineProperty(c.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),c.prototype.getText=function(m){if(m){var h=this.offsetAt(m.start),l=this.offsetAt(m.end);return this._content.substring(h,l)}return this._content},c.prototype.update=function(m,h){this._content=m.text,this._version=h,this._lineOffsets=void 0},c.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var m=[],h=this._content,l=!0,s=0;s<h.length;s++){l&&(m.push(s),l=!1);var b=h.charAt(s);l=b==="\r"||b===`
`,b==="\r"&&s+1<h.length&&h.charAt(s+1)===`
`&&s++}l&&h.length>0&&m.push(h.length),this._lineOffsets=m}return this._lineOffsets},c.prototype.positionAt=function(m){m=Math.max(Math.min(m,this._content.length),0);var h=this.getLineOffsets(),l=0,s=h.length;if(s===0)return d.create(0,m);for(;l<s;){var b=Math.floor((l+s)/2);h[b]>m?s=b:l=b+1}var P=l-1;return d.create(P,m-h[P])},c.prototype.offsetAt=function(m){var h=this.getLineOffsets();if(m.line>=h.length)return this._content.length;if(m.line<0)return 0;var l=h[m.line],s=m.line+1<h.length?h[m.line+1]:this._content.length;return Math.max(Math.min(l+m.character,s),l)},Object.defineProperty(c.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),c})(),y;(function(c){var m=Object.prototype.toString;function h(Z){return typeof Z<"u"}c.defined=h;function l(Z){return typeof Z>"u"}c.undefined=l;function s(Z){return Z===!0||Z===!1}c.boolean=s;function b(Z){return m.call(Z)==="[object String]"}c.string=b;function P(Z){return m.call(Z)==="[object Number]"}c.number=P;function B(Z,Lt,An){return m.call(Z)==="[object Number]"&&Lt<=Z&&Z<=An}c.numberRange=B;function fe(Z){return m.call(Z)==="[object Number]"&&-2147483648<=Z&&Z<=2147483647}c.integer=fe;function ie(Z){return m.call(Z)==="[object Number]"&&0<=Z&&Z<=2147483647}c.uinteger=ie;function Be(Z){return m.call(Z)==="[object Function]"}c.func=Be;function Ve(Z){return Z!==null&&typeof Z=="object"}c.objectLiteral=Ve;function st(Z,Lt){return Array.isArray(Z)&&Z.every(Lt)}c.typedArray=st})(y||(y={}))})});var de=F(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.ProtocolNotificationType=Ie.ProtocolNotificationType0=Ie.ProtocolRequestType=Ie.ProtocolRequestType0=Ie.RegistrationType=Ie.MessageDirection=void 0;var Vt=It(),Eu;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Eu=Ie.MessageDirection||(Ie.MessageDirection={}));var mo=class{constructor(t){this.method=t}};Ie.RegistrationType=mo;var ho=class extends Vt.RequestType0{constructor(t){super(t)}};Ie.ProtocolRequestType0=ho;var go=class extends Vt.RequestType{constructor(t){super(t,Vt.ParameterStructures.byName)}};Ie.ProtocolRequestType=go;var po=class extends Vt.NotificationType0{constructor(t){super(t)}};Ie.ProtocolNotificationType0=po;var yo=class extends Vt.NotificationType{constructor(t){super(t,Vt.ParameterStructures.byName)}};Ie.ProtocolNotificationType=yo});var Yn=F(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.objectLiteral=ge.typedArray=ge.stringArray=ge.array=ge.func=ge.error=ge.number=ge.string=ge.boolean=void 0;function Su(e){return e===!0||e===!1}ge.boolean=Su;function As(e){return typeof e=="string"||e instanceof String}ge.string=As;function Du(e){return typeof e=="number"||e instanceof Number}ge.number=Du;function Iu(e){return e instanceof Error}ge.error=Iu;function Nu(e){return typeof e=="function"}ge.func=Nu;function qs(e){return Array.isArray(e)}ge.array=qs;function ku(e){return qs(e)&&e.every(t=>As(t))}ge.stringArray=ku;function Mu(e,t){return Array.isArray(e)&&e.every(t)}ge.typedArray=Mu;function Fu(e){return e!==null&&typeof e=="object"}ge.objectLiteral=Fu});var xs=F(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.ImplementationRequest=void 0;var Ls=de(),Ou;(function(e){e.method="textDocument/implementation",e.messageDirection=Ls.MessageDirection.clientToServer,e.type=new Ls.ProtocolRequestType(e.method)})(Ou=ln.ImplementationRequest||(ln.ImplementationRequest={}))});var Ws=F(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.TypeDefinitionRequest=void 0;var js=de(),Au;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=js.MessageDirection.clientToServer,e.type=new js.ProtocolRequestType(e.method)})(Au=dn.TypeDefinitionRequest||(dn.TypeDefinitionRequest={}))});var Us=F(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.DidChangeWorkspaceFoldersNotification=pt.WorkspaceFoldersRequest=void 0;var er=de(),qu;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=er.MessageDirection.serverToClient,e.type=new er.ProtocolRequestType0(e.method)})(qu=pt.WorkspaceFoldersRequest||(pt.WorkspaceFoldersRequest={}));var Lu;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=er.MessageDirection.clientToServer,e.type=new er.ProtocolNotificationType(e.method)})(Lu=pt.DidChangeWorkspaceFoldersNotification||(pt.DidChangeWorkspaceFoldersNotification={}))});var Bs=F(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.ConfigurationRequest=void 0;var Hs=de(),xu;(function(e){e.method="workspace/configuration",e.messageDirection=Hs.MessageDirection.serverToClient,e.type=new Hs.ProtocolRequestType(e.method)})(xu=_n.ConfigurationRequest||(_n.ConfigurationRequest={}))});var Vs=F(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.ColorPresentationRequest=yt.DocumentColorRequest=void 0;var tr=de(),ju;(function(e){e.method="textDocument/documentColor",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(ju=yt.DocumentColorRequest||(yt.DocumentColorRequest={}));var Wu;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(Wu=yt.ColorPresentationRequest||(yt.ColorPresentationRequest={}))});var zs=F(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.FoldingRangeRequest=void 0;var $s=de(),Uu;(function(e){e.method="textDocument/foldingRange",e.messageDirection=$s.MessageDirection.clientToServer,e.type=new $s.ProtocolRequestType(e.method)})(Uu=fn.FoldingRangeRequest||(fn.FoldingRangeRequest={}))});var Gs=F(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.DeclarationRequest=void 0;var Zs=de(),Hu;(function(e){e.method="textDocument/declaration",e.messageDirection=Zs.MessageDirection.clientToServer,e.type=new Zs.ProtocolRequestType(e.method)})(Hu=mn.DeclarationRequest||(mn.DeclarationRequest={}))});var Ks=F(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.SelectionRangeRequest=void 0;var Qs=de(),Bu;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Qs.MessageDirection.clientToServer,e.type=new Qs.ProtocolRequestType(e.method)})(Bu=hn.SelectionRangeRequest||(hn.SelectionRangeRequest={}))});var Js=F(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.WorkDoneProgressCancelNotification=Ze.WorkDoneProgressCreateRequest=Ze.WorkDoneProgress=void 0;var Vu=It(),nr=de(),$u;(function(e){e.type=new Vu.ProgressType;function t(n){return n===e.type}e.is=t})($u=Ze.WorkDoneProgress||(Ze.WorkDoneProgress={}));var zu;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=nr.MessageDirection.serverToClient,e.type=new nr.ProtocolRequestType(e.method)})(zu=Ze.WorkDoneProgressCreateRequest||(Ze.WorkDoneProgressCreateRequest={}));var Zu;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=nr.MessageDirection.clientToServer,e.type=new nr.ProtocolNotificationType(e.method)})(Zu=Ze.WorkDoneProgressCancelNotification||(Ze.WorkDoneProgressCancelNotification={}))});var Xs=F(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.CallHierarchyOutgoingCallsRequest=Ge.CallHierarchyIncomingCallsRequest=Ge.CallHierarchyPrepareRequest=void 0;var $t=de(),Gu;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(Gu=Ge.CallHierarchyPrepareRequest||(Ge.CallHierarchyPrepareRequest={}));var Qu;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(Qu=Ge.CallHierarchyIncomingCallsRequest||(Ge.CallHierarchyIncomingCallsRequest={}));var Ku;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(Ku=Ge.CallHierarchyOutgoingCallsRequest||(Ge.CallHierarchyOutgoingCallsRequest={}))});var Ys=F(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.SemanticTokensRefreshRequest=pe.SemanticTokensRangeRequest=pe.SemanticTokensDeltaRequest=pe.SemanticTokensRequest=pe.SemanticTokensRegistrationType=pe.TokenFormat=void 0;var dt=de(),Ju;(function(e){e.Relative="relative"})(Ju=pe.TokenFormat||(pe.TokenFormat={}));var rr;(function(e){e.method="textDocument/semanticTokens",e.type=new dt.RegistrationType(e.method)})(rr=pe.SemanticTokensRegistrationType||(pe.SemanticTokensRegistrationType={}));var Xu;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=dt.MessageDirection.clientToServer,e.type=new dt.ProtocolRequestType(e.method),e.registrationMethod=rr.method})(Xu=pe.SemanticTokensRequest||(pe.SemanticTokensRequest={}));var Yu;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=dt.MessageDirection.clientToServer,e.type=new dt.ProtocolRequestType(e.method),e.registrationMethod=rr.method})(Yu=pe.SemanticTokensDeltaRequest||(pe.SemanticTokensDeltaRequest={}));var el;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=dt.MessageDirection.clientToServer,e.type=new dt.ProtocolRequestType(e.method),e.registrationMethod=rr.method})(el=pe.SemanticTokensRangeRequest||(pe.SemanticTokensRangeRequest={}));var tl;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=dt.MessageDirection.serverToClient,e.type=new dt.ProtocolRequestType0(e.method)})(tl=pe.SemanticTokensRefreshRequest||(pe.SemanticTokensRefreshRequest={}))});var ta=F(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.ShowDocumentRequest=void 0;var ea=de(),nl;(function(e){e.method="window/showDocument",e.messageDirection=ea.MessageDirection.serverToClient,e.type=new ea.ProtocolRequestType(e.method)})(nl=gn.ShowDocumentRequest||(gn.ShowDocumentRequest={}))});var ra=F(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.LinkedEditingRangeRequest=void 0;var na=de(),rl;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=na.MessageDirection.clientToServer,e.type=new na.ProtocolRequestType(e.method)})(rl=pn.LinkedEditingRangeRequest||(pn.LinkedEditingRangeRequest={}))});var ia=F(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.WillDeleteFilesRequest=_e.DidDeleteFilesNotification=_e.DidRenameFilesNotification=_e.WillRenameFilesRequest=_e.DidCreateFilesNotification=_e.WillCreateFilesRequest=_e.FileOperationPatternKind=void 0;var je=de(),il;(function(e){e.file="file",e.folder="folder"})(il=_e.FileOperationPatternKind||(_e.FileOperationPatternKind={}));var ol;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolRequestType(e.method)})(ol=_e.WillCreateFilesRequest||(_e.WillCreateFilesRequest={}));var sl;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolNotificationType(e.method)})(sl=_e.DidCreateFilesNotification||(_e.DidCreateFilesNotification={}));var al;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolRequestType(e.method)})(al=_e.WillRenameFilesRequest||(_e.WillRenameFilesRequest={}));var cl;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolNotificationType(e.method)})(cl=_e.DidRenameFilesNotification||(_e.DidRenameFilesNotification={}));var ul;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolNotificationType(e.method)})(ul=_e.DidDeleteFilesNotification||(_e.DidDeleteFilesNotification={}));var ll;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=je.MessageDirection.clientToServer,e.type=new je.ProtocolRequestType(e.method)})(ll=_e.WillDeleteFilesRequest||(_e.WillDeleteFilesRequest={}))});var sa=F(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.MonikerRequest=Qe.MonikerKind=Qe.UniquenessLevel=void 0;var oa=de(),dl;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(dl=Qe.UniquenessLevel||(Qe.UniquenessLevel={}));var _l;(function(e){e.$import="import",e.$export="export",e.local="local"})(_l=Qe.MonikerKind||(Qe.MonikerKind={}));var fl;(function(e){e.method="textDocument/moniker",e.messageDirection=oa.MessageDirection.clientToServer,e.type=new oa.ProtocolRequestType(e.method)})(fl=Qe.MonikerRequest||(Qe.MonikerRequest={}))});var aa=F(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.TypeHierarchySubtypesRequest=Ke.TypeHierarchySupertypesRequest=Ke.TypeHierarchyPrepareRequest=void 0;var zt=de(),ml;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method)})(ml=Ke.TypeHierarchyPrepareRequest||(Ke.TypeHierarchyPrepareRequest={}));var hl;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method)})(hl=Ke.TypeHierarchySupertypesRequest||(Ke.TypeHierarchySupertypesRequest={}));var gl;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method)})(gl=Ke.TypeHierarchySubtypesRequest||(Ke.TypeHierarchySubtypesRequest={}))});var ca=F(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.InlineValueRefreshRequest=bt.InlineValueRequest=void 0;var ir=de(),pl;(function(e){e.method="textDocument/inlineValue",e.messageDirection=ir.MessageDirection.clientToServer,e.type=new ir.ProtocolRequestType(e.method)})(pl=bt.InlineValueRequest||(bt.InlineValueRequest={}));var yl;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=ir.MessageDirection.serverToClient,e.type=new ir.ProtocolRequestType0(e.method)})(yl=bt.InlineValueRefreshRequest||(bt.InlineValueRefreshRequest={}))});var ua=F(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.InlayHintRefreshRequest=Je.InlayHintResolveRequest=Je.InlayHintRequest=void 0;var Zt=de(),bl;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Zt.MessageDirection.clientToServer,e.type=new Zt.ProtocolRequestType(e.method)})(bl=Je.InlayHintRequest||(Je.InlayHintRequest={}));var vl;(function(e){e.method="inlayHint/resolve",e.messageDirection=Zt.MessageDirection.clientToServer,e.type=new Zt.ProtocolRequestType(e.method)})(vl=Je.InlayHintResolveRequest||(Je.InlayHintResolveRequest={}));var wl;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Zt.MessageDirection.serverToClient,e.type=new Zt.ProtocolRequestType0(e.method)})(wl=Je.InlayHintRefreshRequest||(Je.InlayHintRefreshRequest={}))});var da=F(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.DiagnosticRefreshRequest=Te.WorkspaceDiagnosticRequest=Te.DocumentDiagnosticRequest=Te.DocumentDiagnosticReportKind=Te.DiagnosticServerCancellationData=void 0;var la=It(),Rl=Yn(),Gt=de(),Tl;(function(e){function t(n){let r=n;return r&&Rl.boolean(r.retriggerRequest)}e.is=t})(Tl=Te.DiagnosticServerCancellationData||(Te.DiagnosticServerCancellationData={}));var Cl;(function(e){e.Full="full",e.Unchanged="unchanged"})(Cl=Te.DocumentDiagnosticReportKind||(Te.DocumentDiagnosticReportKind={}));var Pl;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Gt.MessageDirection.clientToServer,e.type=new Gt.ProtocolRequestType(e.method),e.partialResult=new la.ProgressType})(Pl=Te.DocumentDiagnosticRequest||(Te.DocumentDiagnosticRequest={}));var El;(function(e){e.method="workspace/diagnostic",e.messageDirection=Gt.MessageDirection.clientToServer,e.type=new Gt.ProtocolRequestType(e.method),e.partialResult=new la.ProgressType})(El=Te.WorkspaceDiagnosticRequest||(Te.WorkspaceDiagnosticRequest={}));var Sl;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Gt.MessageDirection.serverToClient,e.type=new Gt.ProtocolRequestType0(e.method)})(Sl=Te.DiagnosticRefreshRequest||(Te.DiagnosticRefreshRequest={}))});var ma=F(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.DidCloseNotebookDocumentNotification=K.DidSaveNotebookDocumentNotification=K.DidChangeNotebookDocumentNotification=K.NotebookCellArrayChange=K.DidOpenNotebookDocumentNotification=K.NotebookDocumentSyncRegistrationType=K.NotebookDocument=K.NotebookCell=K.ExecutionSummary=K.NotebookCellKind=void 0;var yn=Xn(),Xe=Yn(),tt=de(),_a;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(_a=K.NotebookCellKind||(K.NotebookCellKind={}));var fa;(function(e){function t(o,a){let d={executionOrder:o};return(a===!0||a===!1)&&(d.success=a),d}e.create=t;function n(o){let a=o;return Xe.objectLiteral(a)&&yn.uinteger.is(a.executionOrder)&&(a.success===void 0||Xe.boolean(a.success))}e.is=n;function r(o,a){return o===a?!0:o==null||a===null||a===void 0?!1:o.executionOrder===a.executionOrder&&o.success===a.success}e.equals=r})(fa=K.ExecutionSummary||(K.ExecutionSummary={}));var bo;(function(e){function t(a,d){return{kind:a,document:d}}e.create=t;function n(a){let d=a;return Xe.objectLiteral(d)&&_a.is(d.kind)&&yn.DocumentUri.is(d.document)&&(d.metadata===void 0||Xe.objectLiteral(d.metadata))}e.is=n;function r(a,d){let f=new Set;return a.document!==d.document&&f.add("document"),a.kind!==d.kind&&f.add("kind"),a.executionSummary!==d.executionSummary&&f.add("executionSummary"),(a.metadata!==void 0||d.metadata!==void 0)&&!o(a.metadata,d.metadata)&&f.add("metadata"),(a.executionSummary!==void 0||d.executionSummary!==void 0)&&!fa.equals(a.executionSummary,d.executionSummary)&&f.add("executionSummary"),f}e.diff=r;function o(a,d){if(a===d)return!0;if(a==null||d===null||d===void 0||typeof a!=typeof d||typeof a!="object")return!1;let f=Array.isArray(a),R=Array.isArray(d);if(f!==R)return!1;if(f&&R){if(a.length!==d.length)return!1;for(let v=0;v<a.length;v++)if(!o(a[v],d[v]))return!1}if(Xe.objectLiteral(a)&&Xe.objectLiteral(d)){let v=Object.keys(a),S=Object.keys(d);if(v.length!==S.length||(v.sort(),S.sort(),!o(v,S)))return!1;for(let I=0;I<v.length;I++){let M=v[I];if(!o(a[M],d[M]))return!1}}return!0}})(bo=K.NotebookCell||(K.NotebookCell={}));var Dl;(function(e){function t(r,o,a,d){return{uri:r,notebookType:o,version:a,cells:d}}e.create=t;function n(r){let o=r;return Xe.objectLiteral(o)&&Xe.string(o.uri)&&yn.integer.is(o.version)&&Xe.typedArray(o.cells,bo.is)}e.is=n})(Dl=K.NotebookDocument||(K.NotebookDocument={}));var bn;(function(e){e.method="notebookDocument/sync",e.messageDirection=tt.MessageDirection.clientToServer,e.type=new tt.RegistrationType(e.method)})(bn=K.NotebookDocumentSyncRegistrationType||(K.NotebookDocumentSyncRegistrationType={}));var Il;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=tt.MessageDirection.clientToServer,e.type=new tt.ProtocolNotificationType(e.method),e.registrationMethod=bn.method})(Il=K.DidOpenNotebookDocumentNotification||(K.DidOpenNotebookDocumentNotification={}));var Nl;(function(e){function t(r){let o=r;return Xe.objectLiteral(o)&&yn.uinteger.is(o.start)&&yn.uinteger.is(o.deleteCount)&&(o.cells===void 0||Xe.typedArray(o.cells,bo.is))}e.is=t;function n(r,o,a){let d={start:r,deleteCount:o};return a!==void 0&&(d.cells=a),d}e.create=n})(Nl=K.NotebookCellArrayChange||(K.NotebookCellArrayChange={}));var kl;(function(e){e.method="notebookDocument/didChange",e.messageDirection=tt.MessageDirection.clientToServer,e.type=new tt.ProtocolNotificationType(e.method),e.registrationMethod=bn.method})(kl=K.DidChangeNotebookDocumentNotification||(K.DidChangeNotebookDocumentNotification={}));var Ml;(function(e){e.method="notebookDocument/didSave",e.messageDirection=tt.MessageDirection.clientToServer,e.type=new tt.ProtocolNotificationType(e.method),e.registrationMethod=bn.method})(Ml=K.DidSaveNotebookDocumentNotification||(K.DidSaveNotebookDocumentNotification={}));var Fl;(function(e){e.method="notebookDocument/didClose",e.messageDirection=tt.MessageDirection.clientToServer,e.type=new tt.ProtocolNotificationType(e.method),e.registrationMethod=bn.method})(Fl=K.DidCloseNotebookDocumentNotification||(K.DidCloseNotebookDocumentNotification={}))});var Ta=F(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.RelativePattern=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeErrorCodes=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.PositionEncodingKind=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.NotebookCellTextDocumentFilter=u.NotebookDocumentFilter=u.TextDocumentFilter=void 0;u.TypeHierarchySubtypesRequest=u.TypeHierarchyPrepareRequest=u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolResolveRequest=void 0;u.DidCloseNotebookDocumentNotification=u.DidSaveNotebookDocumentNotification=u.DidChangeNotebookDocumentNotification=u.NotebookCellArrayChange=u.DidOpenNotebookDocumentNotification=u.NotebookDocumentSyncRegistrationType=u.NotebookDocument=u.NotebookCell=u.ExecutionSummary=u.NotebookCellKind=u.DiagnosticRefreshRequest=u.WorkspaceDiagnosticRequest=u.DocumentDiagnosticRequest=u.DocumentDiagnosticReportKind=u.DiagnosticServerCancellationData=u.InlayHintRefreshRequest=u.InlayHintResolveRequest=u.InlayHintRequest=u.InlineValueRefreshRequest=u.InlineValueRequest=u.TypeHierarchySupertypesRequest=void 0;var D=de(),ha=Xn(),Ce=Yn(),Ol=xs();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return Ol.ImplementationRequest}});var Al=Ws();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Al.TypeDefinitionRequest}});var ga=Us();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ga.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ga.DidChangeWorkspaceFoldersNotification}});var ql=Bs();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return ql.ConfigurationRequest}});var pa=Vs();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return pa.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return pa.ColorPresentationRequest}});var Ll=zs();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return Ll.FoldingRangeRequest}});var xl=Gs();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return xl.DeclarationRequest}});var jl=Ks();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return jl.SelectionRangeRequest}});var vo=Js();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return vo.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return vo.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return vo.WorkDoneProgressCancelNotification}});var wo=Xs();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return wo.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return wo.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return wo.CallHierarchyPrepareRequest}});var Qt=Ys();Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return Qt.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return Qt.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Qt.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Qt.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Qt.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Qt.SemanticTokensRegistrationType}});var Wl=ta();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return Wl.ShowDocumentRequest}});var Ul=ra();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Ul.LinkedEditingRangeRequest}});var Nt=ia();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return Nt.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Nt.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Nt.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Nt.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Nt.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Nt.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Nt.WillDeleteFilesRequest}});var Ro=sa();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return Ro.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return Ro.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return Ro.MonikerRequest}});var To=aa();Object.defineProperty(u,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return To.TypeHierarchyPrepareRequest}});Object.defineProperty(u,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return To.TypeHierarchySubtypesRequest}});Object.defineProperty(u,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return To.TypeHierarchySupertypesRequest}});var ya=ca();Object.defineProperty(u,"InlineValueRequest",{enumerable:!0,get:function(){return ya.InlineValueRequest}});Object.defineProperty(u,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ya.InlineValueRefreshRequest}});var Co=ua();Object.defineProperty(u,"InlayHintRequest",{enumerable:!0,get:function(){return Co.InlayHintRequest}});Object.defineProperty(u,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Co.InlayHintResolveRequest}});Object.defineProperty(u,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Co.InlayHintRefreshRequest}});var vn=da();Object.defineProperty(u,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return vn.DiagnosticServerCancellationData}});Object.defineProperty(u,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return vn.DocumentDiagnosticReportKind}});Object.defineProperty(u,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return vn.DocumentDiagnosticRequest}});Object.defineProperty(u,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return vn.WorkspaceDiagnosticRequest}});Object.defineProperty(u,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return vn.DiagnosticRefreshRequest}});var nt=ma();Object.defineProperty(u,"NotebookCellKind",{enumerable:!0,get:function(){return nt.NotebookCellKind}});Object.defineProperty(u,"ExecutionSummary",{enumerable:!0,get:function(){return nt.ExecutionSummary}});Object.defineProperty(u,"NotebookCell",{enumerable:!0,get:function(){return nt.NotebookCell}});Object.defineProperty(u,"NotebookDocument",{enumerable:!0,get:function(){return nt.NotebookDocument}});Object.defineProperty(u,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return nt.NotebookDocumentSyncRegistrationType}});Object.defineProperty(u,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return nt.DidOpenNotebookDocumentNotification}});Object.defineProperty(u,"NotebookCellArrayChange",{enumerable:!0,get:function(){return nt.NotebookCellArrayChange}});Object.defineProperty(u,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return nt.DidChangeNotebookDocumentNotification}});Object.defineProperty(u,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return nt.DidSaveNotebookDocumentNotification}});Object.defineProperty(u,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return nt.DidCloseNotebookDocumentNotification}});var ba;(function(e){function t(n){let r=n;return Ce.string(r.language)||Ce.string(r.scheme)||Ce.string(r.pattern)}e.is=t})(ba=u.TextDocumentFilter||(u.TextDocumentFilter={}));var va;(function(e){function t(n){let r=n;return Ce.objectLiteral(r)&&(Ce.string(r.notebookType)||Ce.string(r.scheme)||Ce.string(r.pattern))}e.is=t})(va=u.NotebookDocumentFilter||(u.NotebookDocumentFilter={}));var wa;(function(e){function t(n){let r=n;return Ce.objectLiteral(r)&&(Ce.string(r.notebook)||va.is(r.notebook))&&(r.language===void 0||Ce.string(r.language))}e.is=t})(wa=u.NotebookCellTextDocumentFilter||(u.NotebookCellTextDocumentFilter={}));var Ra;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Ce.string(r)&&!ba.is(r)&&!wa.is(r))return!1;return!0}e.is=t})(Ra=u.DocumentSelector||(u.DocumentSelector={}));var Hl;(function(e){e.method="client/registerCapability",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(Hl=u.RegistrationRequest||(u.RegistrationRequest={}));var Bl;(function(e){e.method="client/unregisterCapability",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(Bl=u.UnregistrationRequest||(u.UnregistrationRequest={}));var Vl;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Vl=u.ResourceOperationKind||(u.ResourceOperationKind={}));var $l;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})($l=u.FailureHandlingKind||(u.FailureHandlingKind={}));var zl;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(zl=u.PositionEncodingKind||(u.PositionEncodingKind={}));var Zl;(function(e){function t(n){let r=n;return r&&Ce.string(r.id)&&r.id.length>0}e.hasId=t})(Zl=u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));var Gl;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||Ra.is(r.documentSelector))}e.is=t})(Gl=u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));var Ql;(function(e){function t(r){let o=r;return Ce.objectLiteral(o)&&(o.workDoneProgress===void 0||Ce.boolean(o.workDoneProgress))}e.is=t;function n(r){let o=r;return o&&Ce.boolean(o.workDoneProgress)}e.hasWorkDoneProgress=n})(Ql=u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));var Kl;(function(e){e.method="initialize",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Kl=u.InitializeRequest||(u.InitializeRequest={}));var Jl;(function(e){e.unknownProtocolVersion=1})(Jl=u.InitializeErrorCodes||(u.InitializeErrorCodes={}));var Xl;(function(e){e.method="initialized",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(Xl=u.InitializedNotification||(u.InitializedNotification={}));var Yl;(function(e){e.method="shutdown",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType0(e.method)})(Yl=u.ShutdownRequest||(u.ShutdownRequest={}));var ed;(function(e){e.method="exit",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType0(e.method)})(ed=u.ExitNotification||(u.ExitNotification={}));var td;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(td=u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));var nd;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(nd=u.MessageType||(u.MessageType={}));var rd;(function(e){e.method="window/showMessage",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(rd=u.ShowMessageNotification||(u.ShowMessageNotification={}));var id;(function(e){e.method="window/showMessageRequest",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType(e.method)})(id=u.ShowMessageRequest||(u.ShowMessageRequest={}));var od;(function(e){e.method="window/logMessage",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(od=u.LogMessageNotification||(u.LogMessageNotification={}));var sd;(function(e){e.method="telemetry/event",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(sd=u.TelemetryEventNotification||(u.TelemetryEventNotification={}));var ad;(function(e){e.None=0,e.Full=1,e.Incremental=2})(ad=u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));var cd;(function(e){e.method="textDocument/didOpen",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(cd=u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));var ud;(function(e){function t(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}e.isIncremental=t;function n(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}e.isFull=n})(ud=u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));var ld;(function(e){e.method="textDocument/didChange",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(ld=u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));var dd;(function(e){e.method="textDocument/didClose",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(dd=u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));var _d;(function(e){e.method="textDocument/didSave",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(_d=u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));var fd;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(fd=u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));var md;(function(e){e.method="textDocument/willSave",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(md=u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));var hd;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(hd=u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));var gd;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolNotificationType(e.method)})(gd=u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));var pd;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(pd=u.FileChangeType||(u.FileChangeType={}));var yd;(function(e){function t(n){let r=n;return Ce.objectLiteral(r)&&(ha.URI.is(r.baseUri)||ha.WorkspaceFolder.is(r.baseUri))&&Ce.string(r.pattern)}e.is=t})(yd=u.RelativePattern||(u.RelativePattern={}));var bd;(function(e){e.Create=1,e.Change=2,e.Delete=4})(bd=u.WatchKind||(u.WatchKind={}));var vd;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolNotificationType(e.method)})(vd=u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));var wd;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(wd=u.CompletionTriggerKind||(u.CompletionTriggerKind={}));var Rd;(function(e){e.method="textDocument/completion",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Rd=u.CompletionRequest||(u.CompletionRequest={}));var Td;(function(e){e.method="completionItem/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Td=u.CompletionResolveRequest||(u.CompletionResolveRequest={}));var Cd;(function(e){e.method="textDocument/hover",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Cd=u.HoverRequest||(u.HoverRequest={}));var Pd;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Pd=u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));var Ed;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Ed=u.SignatureHelpRequest||(u.SignatureHelpRequest={}));var Sd;(function(e){e.method="textDocument/definition",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Sd=u.DefinitionRequest||(u.DefinitionRequest={}));var Dd;(function(e){e.method="textDocument/references",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Dd=u.ReferencesRequest||(u.ReferencesRequest={}));var Id;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Id=u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));var Nd;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Nd=u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));var kd;(function(e){e.method="textDocument/codeAction",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(kd=u.CodeActionRequest||(u.CodeActionRequest={}));var Md;(function(e){e.method="codeAction/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Md=u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));var Fd;(function(e){e.method="workspace/symbol",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Fd=u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));var Od;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Od=u.WorkspaceSymbolResolveRequest||(u.WorkspaceSymbolResolveRequest={}));var Ad;(function(e){e.method="textDocument/codeLens",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Ad=u.CodeLensRequest||(u.CodeLensRequest={}));var qd;(function(e){e.method="codeLens/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(qd=u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));var Ld;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType0(e.method)})(Ld=u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));var xd;(function(e){e.method="textDocument/documentLink",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(xd=u.DocumentLinkRequest||(u.DocumentLinkRequest={}));var jd;(function(e){e.method="documentLink/resolve",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(jd=u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));var Wd;(function(e){e.method="textDocument/formatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Wd=u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));var Ud;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Ud=u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));var Hd;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Hd=u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));var Bd;(function(e){e.Identifier=1})(Bd=u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));var Vd;(function(e){e.method="textDocument/rename",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(Vd=u.RenameRequest||(u.RenameRequest={}));var $d;(function(e){e.method="textDocument/prepareRename",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})($d=u.PrepareRenameRequest||(u.PrepareRenameRequest={}));var zd;(function(e){e.method="workspace/executeCommand",e.messageDirection=D.MessageDirection.clientToServer,e.type=new D.ProtocolRequestType(e.method)})(zd=u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));var Zd;(function(e){e.method="workspace/applyEdit",e.messageDirection=D.MessageDirection.serverToClient,e.type=new D.ProtocolRequestType("workspace/applyEdit")})(Zd=u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}))});var Pa=F(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.createProtocolConnection=void 0;var Ca=It();function Gd(e,t,n,r){return Ca.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ca.createMessageConnection)(e,t,n,r)}or.createProtocolConnection=Gd});var Ea=F(Ne=>{"use strict";var Qd=Ne&&Ne.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),sr=Ne&&Ne.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Qd(t,e,n)};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.LSPErrorCodes=Ne.createProtocolConnection=void 0;sr(It(),Ne);sr(Xn(),Ne);sr(de(),Ne);sr(Ta(),Ne);var Kd=Pa();Object.defineProperty(Ne,"createProtocolConnection",{enumerable:!0,get:function(){return Kd.createProtocolConnection}});var Jd;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Jd=Ne.LSPErrorCodes||(Ne.LSPErrorCodes={}))});var be=F(rt=>{"use strict";var Xd=rt&&rt.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),Sa=rt&&rt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Xd(t,e,n)};Object.defineProperty(rt,"__esModule",{value:!0});rt.createProtocolConnection=void 0;var Yd=fo();Sa(fo(),rt);Sa(Ea(),rt);function e_(e,t,n,r){return(0,Yd.createMessageConnection)(e,t,n,r)}rt.createProtocolConnection=e_});var Po=F(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.generateUuid=We.parse=We.isUUID=We.v4=We.empty=void 0;var wn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Rn=class e extends wn{constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}};Rn._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Rn._timeHighBits=["8","9","a","b"];We.empty=new wn("00000000-0000-0000-0000-000000000000");function Da(){return new Rn}We.v4=Da;var t_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ia(e){return t_.test(e)}We.isUUID=Ia;function n_(e){if(!Ia(e))throw new Error("invalid uuid");return new wn(e)}We.parse=n_;function r_(){return Da().asHex()}We.generateUuid=r_});var Na=F(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.attachPartialResult=wt.ProgressFeature=wt.attachWorkDone=void 0;var vt=be(),i_=Po(),kt=class e{constructor(t,n){this._connection=t,this._token=n,e.Instances.set(this._token,this)}begin(t,n,r,o){let a={kind:"begin",title:t,percentage:n,message:r,cancellable:o};this._connection.sendProgress(vt.WorkDoneProgress.type,this._token,a)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(vt.WorkDoneProgress.type,this._token,r)}done(){e.Instances.delete(this._token),this._connection.sendProgress(vt.WorkDoneProgress.type,this._token,{kind:"end"})}};kt.Instances=new Map;var ar=class extends kt{constructor(t,n){super(t,n),this._source=new vt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Tn=class{constructor(){}begin(){}report(){}done(){}},cr=class extends Tn{constructor(){super(),this._source=new vt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function o_(e,t){if(t===void 0||t.workDoneToken===void 0)return new Tn;let n=t.workDoneToken;return delete t.workDoneToken,new kt(e,n)}wt.attachWorkDone=o_;var s_=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(vt.WorkDoneProgressCancelNotification.type,n=>{let r=kt.Instances.get(n.token);(r instanceof ar||r instanceof cr)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Tn:new kt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,i_.generateUuid)();return this.connection.sendRequest(vt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new ar(this.connection,t))}else return Promise.resolve(new cr)}};wt.ProgressFeature=s_;var Eo;(function(e){e.type=new vt.ProgressType})(Eo||(Eo={}));var So=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Eo.type,this._token,t)}};function a_(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new So(e,n)}wt.attachPartialResult=a_});var ka=F(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ConfigurationFeature=void 0;var c_=be(),u_=qn(),l_=e=>class extends e{getConfiguration(t){return t?u_.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(c_.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};ur.ConfigurationFeature=l_});var Ma=F(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.WorkspaceFoldersFeature=void 0;var lr=be(),d_=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new lr.Emitter,this.connection.onNotification(lr.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(lr.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(lr.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};dr.WorkspaceFoldersFeature=d_});var Fa=F(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.CallHierarchyFeature=void 0;var Do=be(),__=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Do.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{let n=Do.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=Do.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};_r.CallHierarchyFeature=__});var No=F(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.SemanticTokensBuilder=Rt.SemanticTokensDiff=Rt.SemanticTokensFeature=void 0;var fr=be(),f_=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(fr.SemanticTokensRefreshRequest.type),on:t=>{let n=fr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=fr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=fr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Rt.SemanticTokensFeature=f_;var mr=class{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){let t=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let o=t-1,a=n-1;for(;o>=r&&a>=r&&this.originalSequence[o]===this.modifiedSequence[a];)o--,a--;(o<r||a<r)&&(o++,a++);let d=o-r+1,f=this.modifiedSequence.slice(r,a+1);return f.length===1&&f[0]===this.originalSequence[o]?[{start:r,deleteCount:d-1}]:[{start:r,deleteCount:d,data:f}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}};Rt.SemanticTokensDiff=mr;var Io=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,o,a){let d=t,f=n;this._dataLen>0&&(d-=this._prevLine,d===0&&(f-=this._prevChar)),this._data[this._dataLen++]=d,this._data[this._dataLen++]=f,this._data[this._dataLen++]=r,this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new mr(this._prevData,this._data).computeDiff()}:this.build()}};Rt.SemanticTokensBuilder=Io});var Oa=F(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ShowDocumentFeature=void 0;var m_=be(),h_=e=>class extends e{showDocument(t){return this.connection.sendRequest(m_.ShowDocumentRequest.type,t)}};hr.ShowDocumentFeature=h_});var Aa=F(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.FileOperationsFeature=void 0;var Kt=be(),g_=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Kt.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(Kt.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(Kt.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Kt.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Kt.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Kt.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};gr.FileOperationsFeature=g_});var qa=F(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.LinkedEditingRangeFeature=void 0;var p_=be(),y_=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(p_.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};pr.LinkedEditingRangeFeature=y_});var La=F(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.TypeHierarchyFeature=void 0;var ko=be(),b_=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(ko.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{let n=ko.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{let n=ko.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yr.TypeHierarchyFeature=b_});var ja=F(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.InlineValueFeature=void 0;var xa=be(),v_=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(xa.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(xa.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};br.InlineValueFeature=v_});var Wa=F(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.InlayHintFeature=void 0;var Mo=be(),w_=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Mo.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Mo.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(Mo.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};vr.InlayHintFeature=w_});var Ua=F(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.DiagnosticFeature=void 0;var Cn=be(),R_=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Cn.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Cn.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Cn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Cn.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Cn.WorkspaceDiagnosticRequest.partialResult,n)))}}};wr.DiagnosticFeature=R_});var Oo=F(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.TextDocuments=void 0;var Mt=be(),Fo=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Mt.Emitter,this._onDidOpen=new Mt.Emitter,this._onDidClose=new Mt.Emitter,this._onDidSave=new Mt.Emitter,this._onWillSave=new Mt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Mt.TextDocumentSyncKind.Incremental;let n=[];return n.push(t.onDidOpenTextDocument(r=>{let o=r.textDocument,a=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,a);let d=Object.freeze({document:a});this._onDidOpen.fire(d),this._onDidChangeContent.fire(d)})),n.push(t.onDidChangeTextDocument(r=>{let o=r.textDocument,a=r.contentChanges;if(a.length===0)return;let{version:d}=o;if(d==null)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let f=this._syncedDocuments.get(o.uri);f!==void 0&&(f=this._configuration.update(f,a,d),this._syncedDocuments.set(o.uri,f),this._onDidChangeContent.fire(Object.freeze({document:f})))})),n.push(t.onDidCloseTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),n.push(t.onWillSaveTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&this._onWillSave.fire(Object.freeze({document:o,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,o)=>{let a=this._syncedDocuments.get(r.textDocument.uri);return a!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:a,reason:r.reason}),o):[]})),n.push(t.onDidSaveTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&this._onDidSave.fire(Object.freeze({document:o}))})),Mt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};Rr.TextDocuments=Fo});var qo=F(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.NotebookDocuments=Jt.NotebookSyncFeature=void 0;var Ue=be(),Ha=Oo(),T_=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Ue.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Ue.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Ue.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Ue.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};Jt.NotebookSyncFeature=T_;var Tr=class e{onDidOpenTextDocument(t){return this.openHandler=t,Ue.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Ue.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Ue.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};Tr.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Ao=class{constructor(t){t instanceof Ha.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Ha.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Ue.Emitter,this._onDidChange=new Ue.Emitter,this._onDidSave=new Ue.Emitter,this._onDidClose=new Ue.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){let n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let n=new Tr,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(o=>{this.notebookDocuments.set(o.notebookDocument.uri,o.notebookDocument);for(let a of o.cellTextDocuments)n.openTextDocument({textDocument:a});this.updateCellMap(o.notebookDocument),this._onDidOpen.fire(o.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(o=>{let a=this.notebookDocuments.get(o.notebookDocument.uri);if(a===void 0)return;a.version=o.notebookDocument.version;let d=a.metadata,f=!1,R=o.change;R.metadata!==void 0&&(f=!0,a.metadata=R.metadata);let v=[],S=[],I=[],M=[];if(R.cells!==void 0){let x=R.cells;if(x.structure!==void 0){let g=x.structure.array;if(a.cells.splice(g.start,g.deleteCount,...g.cells!==void 0?g.cells:[]),x.structure.didOpen!==void 0)for(let p of x.structure.didOpen)n.openTextDocument({textDocument:p}),v.push(p.uri);if(x.structure.didClose)for(let p of x.structure.didClose)n.closeTextDocument({textDocument:p}),S.push(p.uri)}if(x.data!==void 0){let g=new Map(x.data.map(p=>[p.document,p]));for(let p=0;p<=a.cells.length;p++){let E=g.get(a.cells[p].document);if(E!==void 0){let W=a.cells.splice(p,1,E);if(I.push({old:W[0],new:E}),g.delete(E.document),g.size===0)break}}}if(x.textContent!==void 0)for(let g of x.textContent)n.changeTextDocument({textDocument:g.document,contentChanges:g.changes}),M.push(g.document.uri)}this.updateCellMap(a);let j={notebookDocument:a};f&&(j.metadata={old:d,new:a.metadata});let Y=[];for(let x of v)Y.push(this.getNotebookCell(x));let X=[];for(let x of S)X.push(this.getNotebookCell(x));let O=[];for(let x of M)O.push(this.getNotebookCell(x));(Y.length>0||X.length>0||I.length>0||O.length>0)&&(j.cells={added:Y,removed:X,changed:{data:I,textContent:O}}),(j.metadata!==void 0||j.cells!==void 0)&&this._onDidChange.fire(j)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(o=>{let a=this.notebookDocuments.get(o.notebookDocument.uri);a!==void 0&&this._onDidSave.fire(a)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(o=>{let a=this.notebookDocuments.get(o.notebookDocument.uri);if(a!==void 0){this._onDidClose.fire(a);for(let d of o.cellTextDocuments)n.closeTextDocument({textDocument:d});this.notebookDocuments.delete(o.notebookDocument.uri);for(let d of a.cells)this.notebookCellMap.delete(d.document)}})),Ue.Disposable.create(()=>{r.forEach(o=>o.dispose())})}updateCellMap(t){for(let n of t.cells)this.notebookCellMap.set(n.document,[n,t])}};Jt.NotebookDocuments=Ao});var Ba=F(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.MonikerFeature=void 0;var C_=be(),P_=e=>class extends e{get moniker(){return{on:t=>{let n=C_.MonikerRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Cr.MonikerFeature=P_});var Ho=F(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.createConnection=Q.combineFeatures=Q.combineNotebooksFeatures=Q.combineLanguagesFeatures=Q.combineWorkspaceFeatures=Q.combineWindowFeatures=Q.combineClientFeatures=Q.combineTracerFeatures=Q.combineTelemetryFeatures=Q.combineConsoleFeatures=Q._NotebooksImpl=Q._LanguagesImpl=Q.BulkUnregistration=Q.BulkRegistration=Q.ErrorMessageTracker=void 0;var k=be(),He=qn(),xo=Po(),H=Na(),E_=ka(),S_=Ma(),D_=Fa(),I_=No(),N_=Oa(),k_=Aa(),M_=qa(),F_=La(),O_=ja(),A_=Wa(),q_=Ua(),L_=qo(),x_=Ba();function Lo(e){if(e!==null)return e}var jo=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};Q.ErrorMessageTracker=jo;var Pr=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(k.MessageType.Error,t)}warn(t){this.send(k.MessageType.Warning,t)}info(t){this.send(k.MessageType.Info,t)}log(t){this.send(k.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(k.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,k.RAL)().console.error("Sending log message failed")})}},Wo=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:k.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(k.ShowMessageRequest.type,r).then(Lo)}showWarningMessage(t,...n){let r={type:k.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(k.ShowMessageRequest.type,r).then(Lo)}showInformationMessage(t,...n){let r={type:k.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(k.ShowMessageRequest.type,r).then(Lo)}},Va=(0,N_.ShowDocumentFeature)((0,H.ProgressFeature)(Wo)),j_;(function(e){function t(){return new Er}e.create=t})(j_=Q.BulkRegistration||(Q.BulkRegistration={}));var Er=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=He.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let o=xo.generateUuid();this._registrations.push({id:o,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},W_;(function(e){function t(){return new Pn(void 0,[])}e.create=t})(W_=Q.BulkUnregistration||(Q.BulkUnregistration={}));var Pn=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(k.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=He.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let o={unregisterations:[r]};return this._connection.sendRequest(k.UnregistrationRequest.type,o).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Sr=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof Er?this.registerMany(t):t instanceof Pn?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let o=He.string(n)?n:n.method,a=xo.generateUuid(),d={registrations:[{id:a,method:o,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(k.RegistrationRequest.type,d).then(f=>(t.add({id:a,method:o}),t),f=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(f)))}registerSingle2(t,n){let r=He.string(t)?t:t.method,o=xo.generateUuid(),a={registrations:[{id:o,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(k.RegistrationRequest.type,a).then(d=>k.Disposable.create(()=>{this.unregisterSingle(o,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${o} failed.`)})}),d=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(d)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(k.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(k.RegistrationRequest.type,n).then(()=>new Pn(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Uo=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(o){return o&&!!o.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(k.ApplyWorkspaceEditRequest.type,r)}},$a=(0,k_.FileOperationsFeature)((0,S_.WorkspaceFoldersFeature)((0,E_.ConfigurationFeature)(Uo))),Dr=class{constructor(){this._trace=k.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==k.Trace.Off&&this.connection.sendNotification(k.LogTraceNotification.type,{message:t,verbose:this._trace===k.Trace.Verbose?n:void 0}).catch(()=>{})}},Ir=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(k.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},Nr=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,H.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,H.attachPartialResult)(this.connection,n)}};Q._LanguagesImpl=Nr;var za=(0,x_.MonikerFeature)((0,q_.DiagnosticFeature)((0,A_.InlayHintFeature)((0,O_.InlineValueFeature)((0,F_.TypeHierarchyFeature)((0,M_.LinkedEditingRangeFeature)((0,I_.SemanticTokensFeature)((0,D_.CallHierarchyFeature)(Nr)))))))),kr=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,H.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,H.attachPartialResult)(this.connection,n)}};Q._NotebooksImpl=kr;var Za=(0,L_.NotebookSyncFeature)(kr);function Ga(e,t){return function(n){return t(e(n))}}Q.combineConsoleFeatures=Ga;function Qa(e,t){return function(n){return t(e(n))}}Q.combineTelemetryFeatures=Qa;function Ka(e,t){return function(n){return t(e(n))}}Q.combineTracerFeatures=Ka;function Ja(e,t){return function(n){return t(e(n))}}Q.combineClientFeatures=Ja;function Xa(e,t){return function(n){return t(e(n))}}Q.combineWindowFeatures=Xa;function Ya(e,t){return function(n){return t(e(n))}}Q.combineWorkspaceFeatures=Ya;function ec(e,t){return function(n){return t(e(n))}}Q.combineLanguagesFeatures=ec;function tc(e,t){return function(n){return t(e(n))}}Q.combineNotebooksFeatures=tc;function U_(e,t){function n(o,a,d){return o&&a?d(o,a):o||a}return{__brand:"features",console:n(e.console,t.console,Ga),tracer:n(e.tracer,t.tracer,Ka),telemetry:n(e.telemetry,t.telemetry,Qa),client:n(e.client,t.client,Ja),window:n(e.window,t.window,Xa),workspace:n(e.workspace,t.workspace,Ya),languages:n(e.languages,t.languages,ec),notebooks:n(e.notebooks,t.notebooks,tc)}}Q.combineFeatures=U_;function H_(e,t,n){let r=n&&n.console?new(n.console(Pr)):new Pr,o=e(r);r.rawAttach(o);let a=n&&n.tracer?new(n.tracer(Dr)):new Dr,d=n&&n.telemetry?new(n.telemetry(Ir)):new Ir,f=n&&n.client?new(n.client(Sr)):new Sr,R=n&&n.window?new(n.window(Va)):new Va,v=n&&n.workspace?new(n.workspace($a)):new $a,S=n&&n.languages?new(n.languages(za)):new za,I=n&&n.notebooks?new(n.notebooks(Za)):new Za,M=[r,a,d,f,R,v,S,I];function j(g){return g instanceof Promise?g:He.thenable(g)?new Promise((p,E)=>{g.then(W=>p(W),W=>E(W))}):Promise.resolve(g)}let Y,X,O,x={listen:()=>o.listen(),sendRequest:(g,...p)=>o.sendRequest(He.string(g)?g:g.method,...p),onRequest:(g,p)=>o.onRequest(g,p),sendNotification:(g,p)=>{let E=He.string(g)?g:g.method;return arguments.length===1?o.sendNotification(E):o.sendNotification(E,p)},onNotification:(g,p)=>o.onNotification(g,p),onProgress:o.onProgress,sendProgress:o.sendProgress,onInitialize:g=>(X=g,{dispose:()=>{X=void 0}}),onInitialized:g=>o.onNotification(k.InitializedNotification.type,g),onShutdown:g=>(Y=g,{dispose:()=>{Y=void 0}}),onExit:g=>(O=g,{dispose:()=>{O=void 0}}),get console(){return r},get telemetry(){return d},get tracer(){return a},get client(){return f},get window(){return R},get workspace(){return v},get languages(){return S},get notebooks(){return I},onDidChangeConfiguration:g=>o.onNotification(k.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>o.onNotification(k.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>o.onNotification(k.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>o.onNotification(k.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>o.onNotification(k.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>o.onNotification(k.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>o.onRequest(k.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>o.onNotification(k.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>o.sendNotification(k.PublishDiagnosticsNotification.type,g),onHover:g=>o.onRequest(k.HoverRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),onCompletion:g=>o.onRequest(k.CompletionRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onCompletionResolve:g=>o.onRequest(k.CompletionResolveRequest.type,g),onSignatureHelp:g=>o.onRequest(k.SignatureHelpRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),onDeclaration:g=>o.onRequest(k.DeclarationRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onDefinition:g=>o.onRequest(k.DefinitionRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onTypeDefinition:g=>o.onRequest(k.TypeDefinitionRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onImplementation:g=>o.onRequest(k.ImplementationRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onReferences:g=>o.onRequest(k.ReferencesRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onDocumentHighlight:g=>o.onRequest(k.DocumentHighlightRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onDocumentSymbol:g=>o.onRequest(k.DocumentSymbolRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onWorkspaceSymbol:g=>o.onRequest(k.WorkspaceSymbolRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onWorkspaceSymbolResolve:g=>o.onRequest(k.WorkspaceSymbolResolveRequest.type,g),onCodeAction:g=>o.onRequest(k.CodeActionRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onCodeActionResolve:g=>o.onRequest(k.CodeActionResolveRequest.type,(p,E)=>g(p,E)),onCodeLens:g=>o.onRequest(k.CodeLensRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onCodeLensResolve:g=>o.onRequest(k.CodeLensResolveRequest.type,(p,E)=>g(p,E)),onDocumentFormatting:g=>o.onRequest(k.DocumentFormattingRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),onDocumentRangeFormatting:g=>o.onRequest(k.DocumentRangeFormattingRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),onDocumentOnTypeFormatting:g=>o.onRequest(k.DocumentOnTypeFormattingRequest.type,(p,E)=>g(p,E)),onRenameRequest:g=>o.onRequest(k.RenameRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),onPrepareRename:g=>o.onRequest(k.PrepareRenameRequest.type,(p,E)=>g(p,E)),onDocumentLinks:g=>o.onRequest(k.DocumentLinkRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onDocumentLinkResolve:g=>o.onRequest(k.DocumentLinkResolveRequest.type,(p,E)=>g(p,E)),onDocumentColor:g=>o.onRequest(k.DocumentColorRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onColorPresentation:g=>o.onRequest(k.ColorPresentationRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onFoldingRanges:g=>o.onRequest(k.FoldingRangeRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onSelectionRanges:g=>o.onRequest(k.SelectionRangeRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),(0,H.attachPartialResult)(o,p))),onExecuteCommand:g=>o.onRequest(k.ExecuteCommandRequest.type,(p,E)=>g(p,E,(0,H.attachWorkDone)(o,p),void 0)),dispose:()=>o.dispose()};for(let g of M)g.attach(x);return o.onRequest(k.InitializeRequest.type,g=>{t.initialize(g),He.string(g.trace)&&(a.trace=k.Trace.fromString(g.trace));for(let p of M)p.initialize(g.capabilities);if(X){let p=X(g,new k.CancellationTokenSource().token,(0,H.attachWorkDone)(o,g),void 0);return j(p).then(E=>{if(E instanceof k.ResponseError)return E;let W=E;W||(W={capabilities:{}});let V=W.capabilities;V||(V={},W.capabilities=V),V.textDocumentSync===void 0||V.textDocumentSync===null?V.textDocumentSync=He.number(x.__textDocumentSync)?x.__textDocumentSync:k.TextDocumentSyncKind.None:!He.number(V.textDocumentSync)&&!He.number(V.textDocumentSync.change)&&(V.textDocumentSync.change=He.number(x.__textDocumentSync)?x.__textDocumentSync:k.TextDocumentSyncKind.None);for(let $ of M)$.fillServerCapabilities(V);return W})}else{let p={capabilities:{textDocumentSync:k.TextDocumentSyncKind.None}};for(let E of M)E.fillServerCapabilities(p.capabilities);return p}}),o.onRequest(k.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,Y)return Y(new k.CancellationTokenSource().token)}),o.onNotification(k.ExitNotification.type,()=>{try{O&&O()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),o.onNotification(k.SetTraceNotification.type,g=>{a.trace=k.Trace.fromString(g.value)}),x}Q.createConnection=H_});var rc=F(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.resolveModulePath=ke.FileSystem=ke.resolveGlobalYarnPath=ke.resolveGlobalNodePath=ke.resolve=ke.uriToFilePath=void 0;var B_=require("url"),Ye=require("path"),Bo=require("fs"),zo=require("child_process");function V_(e){let t=B_.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,o=n.length;r<o;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],d=n[1];a.length===0&&d.length>1&&d[1]===":"&&n.shift()}return Ye.normalize(n.join("/"))}ke.uriToFilePath=V_;function Vo(){return process.platform==="win32"}function Mr(e,t,n,r){let o="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((d,f)=>{let R=process.env,v=Object.create(null);Object.keys(R).forEach(S=>v[S]=R[S]),t&&Bo.existsSync(t)&&(v[o]?v[o]=t+Ye.delimiter+v[o]:v[o]=t,r&&r(`NODE_PATH value is: ${v[o]}`)),v.ELECTRON_RUN_AS_NODE="1";try{let S=(0,zo.fork)("",[],{cwd:n,env:v,execArgv:["-e",a]});if(S.pid===void 0){f(new Error(`Starting process to resolve node module  ${e} failed`));return}S.on("error",M=>{f(M)}),S.on("message",M=>{M.c==="r"&&(S.send({c:"e"}),M.s?d(M.r):f(new Error(`Failed to resolve module: ${e}`)))});let I={c:"rs",a:e};S.send(I)}catch(S){f(S)}})}ke.resolve=Mr;function $o(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Vo()&&(t="npm.cmd",r.shell=!0);let o=()=>{};try{process.on("SIGPIPE",o);let a=(0,zo.spawnSync)(t,["config","get","prefix"],r).stdout;if(!a){e&&e("'npm config get prefix' didn't return a value.");return}let d=a.trim();return e&&e(`'npm config get prefix' value is: ${d}`),d.length>0?Vo()?Ye.join(d,"node_modules"):Ye.join(d,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",o)}}ke.resolveGlobalNodePath=$o;function $_(e){let t="yarn",n={encoding:"utf8"};Vo()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=(0,zo.spawnSync)(t,["global","dir","--json"],n),a=o.stdout;if(!a){e&&(e("'yarn global dir' didn't return a value."),o.stderr&&e(o.stderr));return}let d=a.trim().split(/\r?\n/);for(let f of d)try{let R=JSON.parse(f);if(R.type==="log")return Ye.join(R.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}ke.resolveGlobalYarnPath=$_;var nc;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Bo.existsSync(__filename.toUpperCase())||!Bo.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(o,a){return n()?Ye.normalize(a).indexOf(Ye.normalize(o))===0:Ye.normalize(a).toLowerCase().indexOf(Ye.normalize(o).toLowerCase())===0}e.isParent=r})(nc=ke.FileSystem||(ke.FileSystem={}));function z_(e,t,n,r){return n?(Ye.isAbsolute(n)||(n=Ye.join(e,n)),Mr(t,n,n,r).then(o=>nc.isParent(n,o)?o:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,o=>Mr(t,$o(r),e,r))):Mr(t,$o(r),e,r)}ke.resolveModulePath=z_});var Zo=F((Fm,ic)=>{"use strict";ic.exports=be()});var sc=F(Pe=>{"use strict";var Z_=Pe&&Pe.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),oc=Pe&&Pe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Z_(t,e,n)};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProposedFeatures=Pe.NotebookDocuments=Pe.TextDocuments=Pe.SemanticTokensBuilder=void 0;var G_=No();Object.defineProperty(Pe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return G_.SemanticTokensBuilder}});oc(be(),Pe);var Q_=Oo();Object.defineProperty(Pe,"TextDocuments",{enumerable:!0,get:function(){return Q_.TextDocuments}});var K_=qo();Object.defineProperty(Pe,"NotebookDocuments",{enumerable:!0,get:function(){return K_.NotebookDocuments}});oc(Ho(),Pe);var J_;(function(e){e.all={__brand:"features"}})(J_=Pe.ProposedFeatures||(Pe.ProposedFeatures={}))});var lc=F(Le=>{"use strict";var X_=Le&&Le.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),cc=Le&&Le.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&X_(t,e,n)};Object.defineProperty(Le,"__esModule",{value:!0});Le.createConnection=Le.Files=void 0;var Go=qn(),Y_=Ho(),En=rc(),Ft=Zo();cc(Zo(),Le);cc(sc(),Le);var ef;(function(e){e.uriToFilePath=En.uriToFilePath,e.resolveGlobalNodePath=En.resolveGlobalNodePath,e.resolveGlobalYarnPath=En.resolveGlobalYarnPath,e.resolve=En.resolve,e.resolveModulePath=En.resolveModulePath})(ef=Le.Files||(Le.Files={}));var ac;function Fr(){if(ac!==void 0)try{ac.end()}catch{}}var Xt=!1,uc;function tf(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(uc=setInterval(()=>{try{process.kill(r,0)}catch{Fr(),process.exit(Xt?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let o=r.split("=");o[0]===e&&t(o[1])}}}tf();var nf={initialize:e=>{let t=e.processId;Go.number(t)&&uc===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(Xt?0:1)}},3e3)},get shutdownReceived(){return Xt},set shutdownReceived(e){Xt=e},exit:e=>{Fr(),process.exit(e)}};function rf(e,t,n,r){let o,a,d,f;return e!==void 0&&e.__brand==="features"&&(o=e,e=t,t=n,n=r),Ft.ConnectionStrategy.is(e)||Ft.ConnectionOptions.is(e)?f=e:(a=e,d=t,f=n),of(a,d,f,o)}Le.createConnection=rf;function of(e,t,n,r){if(!e&&!t&&process.argv.length>2){let f,R,v=process.argv.slice(2);for(let S=0;S<v.length;S++){let I=v[S];if(I==="--node-ipc"){e=new Ft.IPCMessageReader(process),t=new Ft.IPCMessageWriter(process);break}else if(I==="--stdio"){e=process.stdin,t=process.stdout;break}else if(I==="--socket"){f=parseInt(v[S+1]);break}else if(I==="--pipe"){R=v[S+1];break}else{var o=I.split("=");if(o[0]==="--socket"){f=parseInt(o[1]);break}else if(o[0]==="--pipe"){R=o[1];break}}}if(f){let S=(0,Ft.createServerSocketTransport)(f);e=S[0],t=S[1]}else if(R){let S=(0,Ft.createServerPipeTransport)(R);e=S[0],t=S[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(Go.func(e.read)&&Go.func(e.on)){let f=e;f.on("end",()=>{Fr(),process.exit(Xt?0:1)}),f.on("close",()=>{Fr(),process.exit(Xt?0:1)})}let d=f=>(0,Ft.createProtocolConnection)(e,t,f,n);return(0,Y_.createConnection)(d,nf,r)}});var _c=F((qm,dc)=>{"use strict";dc.exports=lc()});var bc=F((exports,module)=>{"use strict";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var n in t)__defProp(e,n,{get:t[n],enumerable:!0})},__copyProps=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of __getOwnPropNames(t))!__hasOwnProp.call(e,o)&&o!==n&&__defProp(e,o,{get:()=>t[o],enumerable:!(r=__getOwnPropDesc(t,o))||r.enumerable});return e},__toESM=(e,t,n)=>(n=e!=null?__create(__getProtoOf(e)):{},__copyProps(t||!e||!e.__esModule?__defProp(n,"default",{value:e,enumerable:!0}):n,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),require_web_tree_sitter=__commonJS({"lib/web-tree-sitter.cjs"(exports,module){"use strict";var Module=(()=>{var _scriptName=typeof document<"u"?document.currentScript?.src:void 0;return async function(moduleArg={}){var moduleRtn,Module=moduleArg,ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof WorkerGlobalScope<"u",ENVIRONMENT_IS_NODE=typeof process=="object"&&process.versions?.node&&process.type!="renderer";Module.currentQueryProgressCallback=null,Module.currentProgressCallback=null,Module.currentLogCallback=null,Module.currentParseCallback=null;var arguments_=[],thisProgram="./this.program",quit_=__name((e,t)=>{throw t},"quit_");typeof __filename<"u"?_scriptName=__filename:ENVIRONMENT_IS_WORKER&&(_scriptName=self.location.href);var scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}__name(locateFile,"locateFile");var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs");scriptDirectory=__dirname+"/",readBinary=__name(e=>{e=isFileURI(e)?new URL(e):e;var t=fs.readFileSync(e);return t},"readBinary"),readAsync=__name(async(e,t=!0)=>{e=isFileURI(e)?new URL(e):e;var n=fs.readFileSync(e,t?void 0:"utf8");return n},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),quit_=__name((e,t)=>{throw process.exitCode=e,t},"quit_")}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(".",_scriptName).href}catch{}ENVIRONMENT_IS_WORKER&&(readBinary=__name(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=__name(async e=>{if(isFileURI(e))return new Promise((n,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){n(o.response);return}r(o.status)},o.onerror=r,o.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)},"readAsync")}var out=console.log.bind(console),err=console.error.bind(console),dynamicLibraries=[],wasmBinary,ABORT=!1,EXITSTATUS,isFileURI=__name(e=>e.startsWith("file://"),"isFileURI"),readyPromiseResolve,readyPromiseReject,wasmMemory,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP64,HEAPU64,HEAP_DATA_VIEW,runtimeInitialized=!1;function updateMemoryViews(){var e=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e),Module.HEAP64=HEAP64=new BigInt64Array(e),Module.HEAPU64=HEAPU64=new BigUint64Array(e),Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(e),LE_HEAP_UPDATE()}__name(updateMemoryViews,"updateMemoryViews");function initMemory(){if(Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var e=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:e/65536,maximum:32768})}updateMemoryViews()}__name(initMemory,"initMemory");var __RELOC_FUNCS__=[];function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(onPreRuns)}__name(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),wasmExports.__wasm_call_ctors(),callRuntimeCallbacks(onPostCtors)}__name(initRuntime,"initRuntime");function preMain(){}__name(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(onPostRuns)}__name(postRun,"postRun");function abort(e){Module.onAbort?.(e),e="Aborted("+e+")",err(e),ABORT=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw readyPromiseReject?.(t),t}__name(abort,"abort");var wasmBinaryFile;function findWasmBinary(){return locateFile("web-tree-sitter.wasm")}__name(findWasmBinary,"findWasmBinary");function getBinarySync(e){if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}__name(getBinarySync,"getBinarySync");async function getWasmBinary(e){if(!wasmBinary)try{var t=await readAsync(e);return new Uint8Array(t)}catch{}return getBinarySync(e)}__name(getWasmBinary,"getWasmBinary");async function instantiateArrayBuffer(e,t){try{var n=await getWasmBinary(e),r=await WebAssembly.instantiate(n,t);return r}catch(o){err(`failed to asynchronously prepare wasm: ${o}`),abort(o)}}__name(instantiateArrayBuffer,"instantiateArrayBuffer");async function instantiateAsync(e,t,n){if(!e&&!isFileURI(t)&&!ENVIRONMENT_IS_NODE)try{var r=fetch(t,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(r,n);return o}catch(a){err(`wasm streaming compile failed: ${a}`),err("falling back to ArrayBuffer instantiation")}return instantiateArrayBuffer(t,n)}__name(instantiateAsync,"instantiateAsync");function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}__name(getWasmImports,"getWasmImports");async function createWasm(){function e(a,d){wasmExports=a.exports,wasmExports=relocateExports(wasmExports,1024);var f=getDylinkMetadata(d);return f.neededDynlibs&&(dynamicLibraries=f.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,"main"),LDSO.init(),loadDylibs(),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),assignWasmExports(wasmExports),wasmExports}__name(e,"receiveInstance");function t(a){return e(a.instance,a.module)}__name(t,"receiveInstantiationResult");var n=getWasmImports();if(Module.instantiateWasm)return new Promise((a,d)=>{Module.instantiateWasm(n,(f,R)=>{a(e(f,R))})});wasmBinaryFile??=findWasmBinary();var r=await instantiateAsync(wasmBinary,wasmBinaryFile,n),o=t(r);return o}__name(createWasm,"createWasm");class ExitStatus{static{__name(this,"ExitStatus")}name="ExitStatus";constructor(t){this.message=`Program terminated with exit(${t})`,this.status=t}}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(e,t){var n=GOT[t];return n||(n=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(t)||(n.required=!0),n}},LE_ATOMICS_NATIVE_BYTE_ORDER=[],LE_HEAP_LOAD_F32=__name(e=>HEAP_DATA_VIEW.getFloat32(e,!0),"LE_HEAP_LOAD_F32"),LE_HEAP_LOAD_F64=__name(e=>HEAP_DATA_VIEW.getFloat64(e,!0),"LE_HEAP_LOAD_F64"),LE_HEAP_LOAD_I16=__name(e=>HEAP_DATA_VIEW.getInt16(e,!0),"LE_HEAP_LOAD_I16"),LE_HEAP_LOAD_I32=__name(e=>HEAP_DATA_VIEW.getInt32(e,!0),"LE_HEAP_LOAD_I32"),LE_HEAP_LOAD_I64=__name(e=>HEAP_DATA_VIEW.getBigInt64(e,!0),"LE_HEAP_LOAD_I64"),LE_HEAP_LOAD_U32=__name(e=>HEAP_DATA_VIEW.getUint32(e,!0),"LE_HEAP_LOAD_U32"),LE_HEAP_STORE_F32=__name((e,t)=>HEAP_DATA_VIEW.setFloat32(e,t,!0),"LE_HEAP_STORE_F32"),LE_HEAP_STORE_F64=__name((e,t)=>HEAP_DATA_VIEW.setFloat64(e,t,!0),"LE_HEAP_STORE_F64"),LE_HEAP_STORE_I16=__name((e,t)=>HEAP_DATA_VIEW.setInt16(e,t,!0),"LE_HEAP_STORE_I16"),LE_HEAP_STORE_I32=__name((e,t)=>HEAP_DATA_VIEW.setInt32(e,t,!0),"LE_HEAP_STORE_I32"),LE_HEAP_STORE_I64=__name((e,t)=>HEAP_DATA_VIEW.setBigInt64(e,t,!0),"LE_HEAP_STORE_I64"),LE_HEAP_STORE_U32=__name((e,t)=>HEAP_DATA_VIEW.setUint32(e,t,!0),"LE_HEAP_STORE_U32"),callRuntimeCallbacks=__name(e=>{for(;e.length>0;)e.shift()(Module)},"callRuntimeCallbacks"),onPostRuns=[],addOnPostRun=__name(e=>onPostRuns.push(e),"addOnPostRun"),onPreRuns=[],addOnPreRun=__name(e=>onPreRuns.push(e),"addOnPreRun"),UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,findStringEnd=__name((e,t,n,r)=>{var o=t+n;if(r)return o;for(;e[t]&&!(t>=o);)++t;return t},"findStringEnd"),UTF8ArrayToString=__name((e,t=0,n,r)=>{var o=findStringEnd(e,t,n,r);if(o-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,o));for(var a="";t<o;){var d=e[t++];if(!(d&128)){a+=String.fromCharCode(d);continue}var f=e[t++]&63;if((d&224)==192){a+=String.fromCharCode((d&31)<<6|f);continue}var R=e[t++]&63;if((d&240)==224?d=(d&15)<<12|f<<6|R:d=(d&7)<<18|f<<12|R<<6|e[t++]&63,d<65536)a+=String.fromCharCode(d);else{var v=d-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a},"UTF8ArrayToString"),getDylinkMetadata=__name(e=>{var t=0,n=0;function r(){return e[t++]}__name(r,"getU8");function o(){for(var ae=0,Ae=1;;){var it=e[t++];if(ae+=(it&127)*Ae,Ae*=128,!(it&128))break}return ae}__name(o,"getLEB");function a(){var ae=o();return t+=ae,UTF8ArrayToString(e,t-ae,ae)}__name(a,"getString");function d(){for(var ae=o(),Ae=[];ae--;)Ae.push(a());return Ae}__name(d,"getStringList");function f(ae,Ae){if(ae)throw new Error(Ae)}if(__name(f,"failIf"),e instanceof WebAssembly.Module){var R=WebAssembly.Module.customSections(e,"dylink.0");f(R.length===0,"need dylink section"),e=new Uint8Array(R[0]),n=e.length}else{var v=new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer),S=v[0]==1836278016||v[0]==6386541;f(!S,"need to see wasm magic number"),f(e[8]!==0,"need the dylink section to be first"),t=9;var I=o();n=t+I;var M=a();f(M!=="dylink.0")}for(var j={neededDynlibs:[],tlsExports:new Set,weakImports:new Set,runtimePaths:[]},Y=1,X=2,O=3,x=4,g=5,p=256,E=3,W=1;t<n;){var V=r(),$=o();if(V===Y)j.memorySize=o(),j.memoryAlign=o(),j.tableSize=o(),j.tableAlign=o();else if(V===X)j.neededDynlibs=d();else if(V===O)for(var ve=o();ve--;){var Me=a(),Oe=o();Oe&p&&j.tlsExports.add(Me)}else if(V===x)for(var ve=o();ve--;){var _t=a(),Me=a(),Oe=o();(Oe&E)==W&&j.weakImports.add(Me)}else V===g?j.runtimePaths=d():t+=$}return j},"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return HEAP8[e];case"i8":return HEAP8[e];case"i16":return LE_HEAP_LOAD_I16((e>>1)*2);case"i32":return LE_HEAP_LOAD_I32((e>>2)*4);case"i64":return LE_HEAP_LOAD_I64((e>>3)*8);case"float":return LE_HEAP_LOAD_F32((e>>2)*4);case"double":return LE_HEAP_LOAD_F64((e>>3)*8);case"*":return LE_HEAP_LOAD_U32((e>>2)*4);default:abort(`invalid type for getValue: ${t}`)}}__name(getValue,"getValue");var newDSO=__name((e,t,n)=>{var r={refcount:1/0,name:e,exports:n,global:!0};return LDSO.loadedLibsByName[e]=r,t!=null&&(LDSO.loadedLibsByHandle[t]=r),r},"newDSO"),LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78240,alignMemory=__name((e,t)=>Math.ceil(e/t)*t,"alignMemory"),getMemory=__name(e=>{if(runtimeInitialized)return _calloc(e,1);var t=___heap_base,n=t+alignMemory(e,16);return ___heap_base=n,GOT.__heap_base.value=n,t},"getMemory"),isInternalSym=__name(e=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(e)||e.startsWith("__em_js__"),"isInternalSym"),uleb128EncodeWithLen=__name(e=>{let t=e.length;return[t%128|128,t>>7,...e]},"uleb128EncodeWithLen"),wasmTypeCodes={i:127,p:127,j:126,f:125,d:124,e:111},generateTypePack=__name(e=>uleb128EncodeWithLen(Array.from(e,t=>{var n=wasmTypeCodes[t];return n})),"generateTypePack"),convertJsFunctionToWasm=__name((e,t)=>{var n=Uint8Array.of(0,97,115,109,1,0,0,0,1,...uleb128EncodeWithLen([1,96,...generateTypePack(t.slice(1)),...generateTypePack(t[0]==="v"?"":t[0])]),2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),r=new WebAssembly.Module(n),o=new WebAssembly.Instance(r,{e:{f:e}}),a=o.exports.f;return a},"convertJsFunctionToWasm"),wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:31,element:"anyfunc"}),getWasmTableEntry=__name(e=>{var t=wasmTableMirror[e];return t||(wasmTableMirror[e]=t=wasmTable.get(e)),t},"getWasmTableEntry"),updateTableMap=__name((e,t)=>{if(functionsInTableMap)for(var n=e;n<e+t;n++){var r=getWasmTableEntry(n);r&&functionsInTableMap.set(r,n)}},"updateTableMap"),functionsInTableMap,getFunctionAddress=__name(e=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(e)||0),"getFunctionAddress"),freeTableIndexes=[],getEmptyTableSlot=__name(()=>freeTableIndexes.length?freeTableIndexes.pop():wasmTable.grow(1),"getEmptyTableSlot"),setWasmTableEntry=__name((e,t)=>{wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)},"setWasmTableEntry"),addFunction=__name((e,t)=>{var n=getFunctionAddress(e);if(n)return n;var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(a){if(!(a instanceof TypeError))throw a;var o=convertJsFunctionToWasm(e,t);setWasmTableEntry(r,o)}return functionsInTableMap.set(e,r),r},"addFunction"),updateGOT=__name((e,t)=>{for(var n in e)if(!isInternalSym(n)){var r=e[n];GOT[n]||=new WebAssembly.Global({value:"i32",mutable:!0}),(t||GOT[n].value==0)&&(typeof r=="function"?GOT[n].value=addFunction(r):typeof r=="number"?GOT[n].value=r:err(`unhandled export type for '${n}': ${typeof r}`))}},"updateGOT"),relocateExports=__name((e,t,n)=>{var r={};for(var o in e){var a=e[o];typeof a=="object"&&(a=a.value),typeof a=="number"&&(a+=t),r[o]=a}return updateGOT(r,n),r},"relocateExports"),isSymbolDefined=__name(e=>{var t=wasmImports[e];return!(!t||t.stub)},"isSymbolDefined"),dynCall=__name((e,t,n=[],r=!1)=>{var o=getWasmTableEntry(t),a=o(...n);function d(f){return f}return __name(d,"convert"),a},"dynCall"),stackSave=__name(()=>_emscripten_stack_get_current(),"stackSave"),stackRestore=__name(e=>__emscripten_stack_restore(e),"stackRestore"),createInvokeFunction=__name(e=>(t,...n)=>{var r=stackSave();try{return dynCall(e,t,n)}catch(o){if(stackRestore(r),o!==o+0)throw o;if(_setThrew(1,0),e[0]=="j")return 0n}},"createInvokeFunction"),resolveGlobalSymbol=__name((e,t=!1)=>{var n;return isSymbolDefined(e)?n=wasmImports[e]:e.startsWith("invoke_")&&(n=wasmImports[e]=createInvokeFunction(e.split("_")[1])),{sym:n,name:e}},"resolveGlobalSymbol"),onPostCtors=[],addOnPostCtor=__name(e=>onPostCtors.push(e),"addOnPostCtor"),UTF8ToString=__name((e,t,n)=>e?UTF8ArrayToString(HEAPU8,e,t,n):"","UTF8ToString"),loadWebAssemblyModule=__name((binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);function loadModule(){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,LE_HEAP_STORE_U32((handle+12>>2)*4,memoryBase),LE_HEAP_STORE_I32((handle+16>>2)*4,metadata.memorySize),LE_HEAP_STORE_U32((handle+20>>2)*4,tableBase),LE_HEAP_STORE_I32((handle+24>>2)*4,metadata.tableSize)),metadata.tableSize&&wasmTable.grow(metadata.tableSize);var moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e).sym;return!t&&localScope&&(t=localScope[e]),t||(t=moduleExports[e]),t}__name(resolveSymbol,"resolveSymbol");var proxyHandler={get(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in wasmImports&&!wasmImports[t].stub){var n=wasmImports[t];return n}if(!(t in e)){var r;e[t]=(...o)=>(r||=resolveSymbol(t),r(...o))}return e[t]}},proxy=new Proxy({},proxyHandler);currentModuleWeakSymbols=metadata.weakImports;var info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(__name(addEmAsm,"addEmAsm"),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}__name(addEmJs,"addEmJs");for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():addOnPostCtor(init)),moduleExports}if(__name(postInstantiation,"postInstantiation"),flags.loadAsync)return(async()=>{var e;return binary instanceof WebAssembly.Module?e=new WebAssembly.Instance(binary,info):{module:binary,instance:e}=await WebAssembly.instantiate(binary,info),postInstantiation(binary,e)})();var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return __name(loadModule,"loadModule"),flags={...flags,rpath:{parentLibPath:libName,paths:metadata.runtimePaths}},flags.loadAsync?metadata.neededDynlibs.reduce((e,t)=>e.then(()=>loadDynamicLibrary(t,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(e=>loadDynamicLibrary(e,flags,localScope)),loadModule())},"loadWebAssemblyModule"),mergeLibSymbols=__name((e,t)=>{for(var[n,r]of Object.entries(e)){let o=__name(d=>{isSymbolDefined(d)||(wasmImports[d]=r)},"setImport");o(n);let a="__main_argc_argv";n=="main"&&o(a),n==a&&o("main")}},"mergeLibSymbols"),asyncLoad=__name(async e=>{var t=await readAsync(e);return new Uint8Array(t)},"asyncLoad");function loadDynamicLibrary(e,t={global:!0,nodelete:!0},n,r){var o=LDSO.loadedLibsByName[e];if(o)return t.global?o.global||(o.global=!0,mergeLibSymbols(o.exports,e)):n&&Object.assign(n,o.exports),t.nodelete&&o.refcount!==1/0&&(o.refcount=1/0),o.refcount++,r&&(LDSO.loadedLibsByHandle[r]=o),t.loadAsync?Promise.resolve(!0):!0;o=newDSO(e,r,"loading"),o.refcount=t.nodelete?1/0:1,o.global=t.global;function a(){if(r){var R=LE_HEAP_LOAD_U32((r+28>>2)*4),v=LE_HEAP_LOAD_U32((r+32>>2)*4);if(R&&v){var S=HEAP8.slice(R,R+v);return t.loadAsync?Promise.resolve(S):S}}var I=locateFile(e);if(t.loadAsync)return asyncLoad(I);if(!readBinary)throw new Error(`${I}: file not found, and synchronous loading of external files is not available`);return readBinary(I)}__name(a,"loadLibData");function d(){return t.loadAsync?a().then(R=>loadWebAssemblyModule(R,t,e,n,r)):loadWebAssemblyModule(a(),t,e,n,r)}__name(d,"getExports");function f(R){o.global?mergeLibSymbols(R,e):n&&Object.assign(n,R),o.exports=R}return __name(f,"moduleLoaded"),t.loadAsync?d().then(R=>(f(R),!0)):(f(d()),!0)}__name(loadDynamicLibrary,"loadDynamicLibrary");var reportUndefinedSymbols=__name(()=>{for(var[e,t]of Object.entries(GOT))if(t.value==0){var n=resolveGlobalSymbol(e,!0).sym;if(!n&&!t.required)continue;if(typeof n=="function")t.value=addFunction(n,n.sig);else if(typeof n=="number")t.value=n;else throw new Error(`bad export type for '${e}': ${typeof n}`)}},"reportUndefinedSymbols"),runDependencies=0,dependenciesFulfilled=null,removeRunDependency=__name(e=>{if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&dependenciesFulfilled){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}},"removeRunDependency"),addRunDependency=__name(e=>{runDependencies++,Module.monitorRunDependencies?.(runDependencies)},"addRunDependency"),loadDylibs=__name(async()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency("loadDylibs");for(var e of dynamicLibraries)await loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0});reportUndefinedSymbols(),removeRunDependency("loadDylibs")},"loadDylibs"),noExitRuntime=!0;function setValue(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":HEAP8[e]=t;break;case"i8":HEAP8[e]=t;break;case"i16":LE_HEAP_STORE_I16((e>>1)*2,t);break;case"i32":LE_HEAP_STORE_I32((e>>2)*4,t);break;case"i64":LE_HEAP_STORE_I64((e>>3)*8,BigInt(t));break;case"float":LE_HEAP_STORE_F32((e>>2)*4,t);break;case"double":LE_HEAP_STORE_F64((e>>3)*8,t);break;case"*":LE_HEAP_STORE_U32((e>>2)*4,t);break;default:abort(`invalid type for setValue: ${n}`)}}__name(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_high=78240,___stack_low=12704,___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78240),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=__name(()=>abort(""),"__abort_js");__abort_js.sig="v";var getHeapMax=__name(()=>2147483648,"getHeapMax"),growMemory=__name(e=>{var t=wasmMemory.buffer.byteLength,n=(e-t+65535)/65536|0;try{return wasmMemory.grow(n),updateMemoryViews(),1}catch{}},"growMemory"),_emscripten_resize_heap=__name(e=>{var t=HEAPU8.length;e>>>=0;var n=getHeapMax();if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var a=Math.min(n,alignMemory(Math.max(e,o),65536)),d=growMemory(a);if(d)return!0}return!1},"_emscripten_resize_heap");_emscripten_resize_heap.sig="ip";var _fd_close=__name(e=>52,"_fd_close");_fd_close.sig="ii";var INT53_MAX=9007199254740992,INT53_MIN=-9007199254740992,bigintToI53Checked=__name(e=>e<INT53_MIN||e>INT53_MAX?NaN:Number(e),"bigintToI53Checked");function _fd_seek(e,t,n,r){return t=bigintToI53Checked(t),70}__name(_fd_seek,"_fd_seek"),_fd_seek.sig="iijip";var printCharBuffers=[null,[],[]],printChar=__name((e,t)=>{var n=printCharBuffers[e];t===0||t===10?((e===1?out:err)(UTF8ArrayToString(n)),n.length=0):n.push(t)},"printChar"),_fd_write=__name((e,t,n,r)=>{for(var o=0,a=0;a<n;a++){var d=LE_HEAP_LOAD_U32((t>>2)*4),f=LE_HEAP_LOAD_U32((t+4>>2)*4);t+=8;for(var R=0;R<f;R++)printChar(e,HEAPU8[d+R]);o+=f}return LE_HEAP_STORE_U32((r>>2)*4,o),0},"_fd_write");_fd_write.sig="iippp";function _tree_sitter_log_callback(e,t){if(Module.currentLogCallback){let n=UTF8ToString(t);Module.currentLogCallback(n,e!==0)}}__name(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,n,r,o){let d=Module.currentParseCallback(t,{row:n,column:r});typeof d=="string"?(setValue(o,d.length,"i32"),stringToUTF16(d,e,10240)):setValue(o,0,"i32")}__name(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function _tree_sitter_progress_callback(e,t){return Module.currentProgressCallback?Module.currentProgressCallback({currentOffset:e,hasError:t}):!1}__name(_tree_sitter_progress_callback,"_tree_sitter_progress_callback");function _tree_sitter_query_progress_callback(e){return Module.currentQueryProgressCallback?Module.currentQueryProgressCallback({currentOffset:e}):!1}__name(_tree_sitter_query_progress_callback,"_tree_sitter_query_progress_callback");var runtimeKeepaliveCounter=0,keepRuntimeAlive=__name(()=>noExitRuntime||runtimeKeepaliveCounter>0,"keepRuntimeAlive"),_proc_exit=__name(e=>{EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit?.(e),ABORT=!0),quit_(e,new ExitStatus(e))},"_proc_exit");_proc_exit.sig="vi";var exitJS=__name((e,t)=>{EXITSTATUS=e,_proc_exit(e)},"exitJS"),handleException=__name(e=>{if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)},"handleException"),lengthBytesUTF8=__name(e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},"lengthBytesUTF8"),stringToUTF8Array=__name((e,t,n,r)=>{if(!(r>0))return 0;for(var o=n,a=n+r-1,d=0;d<e.length;++d){var f=e.codePointAt(d);if(f<=127){if(n>=a)break;t[n++]=f}else if(f<=2047){if(n+1>=a)break;t[n++]=192|f>>6,t[n++]=128|f&63}else if(f<=65535){if(n+2>=a)break;t[n++]=224|f>>12,t[n++]=128|f>>6&63,t[n++]=128|f&63}else{if(n+3>=a)break;t[n++]=240|f>>18,t[n++]=128|f>>12&63,t[n++]=128|f>>6&63,t[n++]=128|f&63,d++}}return t[n]=0,n-o},"stringToUTF8Array"),stringToUTF8=__name((e,t,n)=>stringToUTF8Array(e,HEAPU8,t,n),"stringToUTF8"),stackAlloc=__name(e=>__emscripten_stack_alloc(e),"stackAlloc"),stringToUTF8OnStack=__name(e=>{var t=lengthBytesUTF8(e)+1,n=stackAlloc(t);return stringToUTF8(e,n,t),n},"stringToUTF8OnStack"),AsciiToString=__name(e=>{for(var t="";;){var n=HEAPU8[e++];if(!n)return t;t+=String.fromCharCode(n)}},"AsciiToString"),stringToUTF16=__name((e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var r=t,o=n<e.length*2?n/2:e.length,a=0;a<o;++a){var d=e.charCodeAt(a);LE_HEAP_STORE_I16((t>>1)*2,d),t+=2}return LE_HEAP_STORE_I16((t>>1)*2,0),t-r},"stringToUTF16");LE_ATOMICS_NATIVE_BYTE_ORDER=new Int8Array(new Int16Array([1]).buffer)[0]===1?[(e=>e),(e=>e),void 0,(e=>e)]:[(e=>e),(e=>((e&65280)<<8|(e&255)<<24)>>16),void 0,(e=>e>>24&255|e>>8&65280|(e&65280)<<8|(e&255)<<24)];function LE_HEAP_UPDATE(){HEAPU16.unsigned=(e=>e&65535),HEAPU32.unsigned=(e=>e>>>0)}if(__name(LE_HEAP_UPDATE,"LE_HEAP_UPDATE"),initMemory(),Module.noExitRuntime&&(noExitRuntime=Module.noExitRuntime),Module.print&&(out=Module.print),Module.printErr&&(err=Module.printErr),Module.dynamicLibraries&&(dynamicLibraries=Module.dynamicLibraries),Module.wasmBinary&&(wasmBinary=Module.wasmBinary),Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.shift()();Module.setValue=setValue,Module.getValue=getValue,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,Module.loadWebAssemblyModule=loadWebAssemblyModule,Module.LE_HEAP_STORE_I64=LE_HEAP_STORE_I64;var ASM_CONSTS={},_malloc,_calloc,_realloc,_free,_ts_range_edit,_memcmp,_ts_language_symbol_count,_ts_language_state_count,_ts_language_abi_version,_ts_language_name,_ts_language_field_count,_ts_language_next_state,_ts_language_symbol_name,_ts_language_symbol_for_name,_strncmp,_ts_language_symbol_type,_ts_language_field_name_for_id,_ts_lookahead_iterator_new,_ts_lookahead_iterator_delete,_ts_lookahead_iterator_reset_state,_ts_lookahead_iterator_reset,_ts_lookahead_iterator_next,_ts_lookahead_iterator_current_symbol,_ts_point_edit,_ts_parser_delete,_ts_parser_reset,_ts_parser_set_language,_ts_parser_set_included_ranges,_ts_query_new,_ts_query_delete,_iswspace,_iswalnum,_ts_query_pattern_count,_ts_query_capture_count,_ts_query_string_count,_ts_query_capture_name_for_id,_ts_query_capture_quantifier_for_id,_ts_query_string_value_for_id,_ts_query_predicates_for_pattern,_ts_query_start_byte_for_pattern,_ts_query_end_byte_for_pattern,_ts_query_is_pattern_rooted,_ts_query_is_pattern_non_local,_ts_query_is_pattern_guaranteed_at_step,_ts_query_disable_capture,_ts_query_disable_pattern,_ts_tree_copy,_ts_tree_delete,_ts_init,_ts_parser_new_wasm,_ts_parser_enable_logger_wasm,_ts_parser_parse_wasm,_ts_parser_included_ranges_wasm,_ts_language_type_is_named_wasm,_ts_language_type_is_visible_wasm,_ts_language_metadata_wasm,_ts_language_supertypes_wasm,_ts_language_subtypes_wasm,_ts_tree_root_node_wasm,_ts_tree_root_node_with_offset_wasm,_ts_tree_edit_wasm,_ts_tree_included_ranges_wasm,_ts_tree_get_changed_ranges_wasm,_ts_tree_cursor_new_wasm,_ts_tree_cursor_copy_wasm,_ts_tree_cursor_delete_wasm,_ts_tree_cursor_reset_wasm,_ts_tree_cursor_reset_to_wasm,_ts_tree_cursor_goto_first_child_wasm,_ts_tree_cursor_goto_last_child_wasm,_ts_tree_cursor_goto_first_child_for_index_wasm,_ts_tree_cursor_goto_first_child_for_position_wasm,_ts_tree_cursor_goto_next_sibling_wasm,_ts_tree_cursor_goto_previous_sibling_wasm,_ts_tree_cursor_goto_descendant_wasm,_ts_tree_cursor_goto_parent_wasm,_ts_tree_cursor_current_node_type_id_wasm,_ts_tree_cursor_current_node_state_id_wasm,_ts_tree_cursor_current_node_is_named_wasm,_ts_tree_cursor_current_node_is_missing_wasm,_ts_tree_cursor_current_node_id_wasm,_ts_tree_cursor_start_position_wasm,_ts_tree_cursor_end_position_wasm,_ts_tree_cursor_start_index_wasm,_ts_tree_cursor_end_index_wasm,_ts_tree_cursor_current_field_id_wasm,_ts_tree_cursor_current_depth_wasm,_ts_tree_cursor_current_descendant_index_wasm,_ts_tree_cursor_current_node_wasm,_ts_node_symbol_wasm,_ts_node_field_name_for_child_wasm,_ts_node_field_name_for_named_child_wasm,_ts_node_children_by_field_id_wasm,_ts_node_first_child_for_byte_wasm,_ts_node_first_named_child_for_byte_wasm,_ts_node_grammar_symbol_wasm,_ts_node_child_count_wasm,_ts_node_named_child_count_wasm,_ts_node_child_wasm,_ts_node_named_child_wasm,_ts_node_child_by_field_id_wasm,_ts_node_next_sibling_wasm,_ts_node_prev_sibling_wasm,_ts_node_next_named_sibling_wasm,_ts_node_prev_named_sibling_wasm,_ts_node_descendant_count_wasm,_ts_node_parent_wasm,_ts_node_child_with_descendant_wasm,_ts_node_descendant_for_index_wasm,_ts_node_named_descendant_for_index_wasm,_ts_node_descendant_for_position_wasm,_ts_node_named_descendant_for_position_wasm,_ts_node_start_point_wasm,_ts_node_end_point_wasm,_ts_node_start_index_wasm,_ts_node_end_index_wasm,_ts_node_to_string_wasm,_ts_node_children_wasm,_ts_node_named_children_wasm,_ts_node_descendants_of_type_wasm,_ts_node_is_named_wasm,_ts_node_has_changes_wasm,_ts_node_has_error_wasm,_ts_node_is_error_wasm,_ts_node_is_missing_wasm,_ts_node_is_extra_wasm,_ts_node_parse_state_wasm,_ts_node_next_parse_state_wasm,_ts_query_matches_wasm,_ts_query_captures_wasm,_memset,_memcpy,_memmove,_iswalpha,_iswblank,_iswdigit,_iswlower,_iswupper,_iswxdigit,_memchr,_strlen,_strcmp,_strncat,_strncpy,_towlower,_towupper,_setThrew,__emscripten_stack_restore,__emscripten_stack_alloc,_emscripten_stack_get_current,___wasm_apply_data_relocs;function assignWasmExports(e){Module._malloc=_malloc=e.malloc,Module._calloc=_calloc=e.calloc,Module._realloc=_realloc=e.realloc,Module._free=_free=e.free,Module._ts_range_edit=_ts_range_edit=e.ts_range_edit,Module._memcmp=_memcmp=e.memcmp,Module._ts_language_symbol_count=_ts_language_symbol_count=e.ts_language_symbol_count,Module._ts_language_state_count=_ts_language_state_count=e.ts_language_state_count,Module._ts_language_abi_version=_ts_language_abi_version=e.ts_language_abi_version,Module._ts_language_name=_ts_language_name=e.ts_language_name,Module._ts_language_field_count=_ts_language_field_count=e.ts_language_field_count,Module._ts_language_next_state=_ts_language_next_state=e.ts_language_next_state,Module._ts_language_symbol_name=_ts_language_symbol_name=e.ts_language_symbol_name,Module._ts_language_symbol_for_name=_ts_language_symbol_for_name=e.ts_language_symbol_for_name,Module._strncmp=_strncmp=e.strncmp,Module._ts_language_symbol_type=_ts_language_symbol_type=e.ts_language_symbol_type,Module._ts_language_field_name_for_id=_ts_language_field_name_for_id=e.ts_language_field_name_for_id,Module._ts_lookahead_iterator_new=_ts_lookahead_iterator_new=e.ts_lookahead_iterator_new,Module._ts_lookahead_iterator_delete=_ts_lookahead_iterator_delete=e.ts_lookahead_iterator_delete,Module._ts_lookahead_iterator_reset_state=_ts_lookahead_iterator_reset_state=e.ts_lookahead_iterator_reset_state,Module._ts_lookahead_iterator_reset=_ts_lookahead_iterator_reset=e.ts_lookahead_iterator_reset,Module._ts_lookahead_iterator_next=_ts_lookahead_iterator_next=e.ts_lookahead_iterator_next,Module._ts_lookahead_iterator_current_symbol=_ts_lookahead_iterator_current_symbol=e.ts_lookahead_iterator_current_symbol,Module._ts_point_edit=_ts_point_edit=e.ts_point_edit,Module._ts_parser_delete=_ts_parser_delete=e.ts_parser_delete,Module._ts_parser_reset=_ts_parser_reset=e.ts_parser_reset,Module._ts_parser_set_language=_ts_parser_set_language=e.ts_parser_set_language,Module._ts_parser_set_included_ranges=_ts_parser_set_included_ranges=e.ts_parser_set_included_ranges,Module._ts_query_new=_ts_query_new=e.ts_query_new,Module._ts_query_delete=_ts_query_delete=e.ts_query_delete,Module._iswspace=_iswspace=e.iswspace,Module._iswalnum=_iswalnum=e.iswalnum,Module._ts_query_pattern_count=_ts_query_pattern_count=e.ts_query_pattern_count,Module._ts_query_capture_count=_ts_query_capture_count=e.ts_query_capture_count,Module._ts_query_string_count=_ts_query_string_count=e.ts_query_string_count,Module._ts_query_capture_name_for_id=_ts_query_capture_name_for_id=e.ts_query_capture_name_for_id,Module._ts_query_capture_quantifier_for_id=_ts_query_capture_quantifier_for_id=e.ts_query_capture_quantifier_for_id,Module._ts_query_string_value_for_id=_ts_query_string_value_for_id=e.ts_query_string_value_for_id,Module._ts_query_predicates_for_pattern=_ts_query_predicates_for_pattern=e.ts_query_predicates_for_pattern,Module._ts_query_start_byte_for_pattern=_ts_query_start_byte_for_pattern=e.ts_query_start_byte_for_pattern,Module._ts_query_end_byte_for_pattern=_ts_query_end_byte_for_pattern=e.ts_query_end_byte_for_pattern,Module._ts_query_is_pattern_rooted=_ts_query_is_pattern_rooted=e.ts_query_is_pattern_rooted,Module._ts_query_is_pattern_non_local=_ts_query_is_pattern_non_local=e.ts_query_is_pattern_non_local,Module._ts_query_is_pattern_guaranteed_at_step=_ts_query_is_pattern_guaranteed_at_step=e.ts_query_is_pattern_guaranteed_at_step,Module._ts_query_disable_capture=_ts_query_disable_capture=e.ts_query_disable_capture,Module._ts_query_disable_pattern=_ts_query_disable_pattern=e.ts_query_disable_pattern,Module._ts_tree_copy=_ts_tree_copy=e.ts_tree_copy,Module._ts_tree_delete=_ts_tree_delete=e.ts_tree_delete,Module._ts_init=_ts_init=e.ts_init,Module._ts_parser_new_wasm=_ts_parser_new_wasm=e.ts_parser_new_wasm,Module._ts_parser_enable_logger_wasm=_ts_parser_enable_logger_wasm=e.ts_parser_enable_logger_wasm,Module._ts_parser_parse_wasm=_ts_parser_parse_wasm=e.ts_parser_parse_wasm,Module._ts_parser_included_ranges_wasm=_ts_parser_included_ranges_wasm=e.ts_parser_included_ranges_wasm,Module._ts_language_type_is_named_wasm=_ts_language_type_is_named_wasm=e.ts_language_type_is_named_wasm,Module._ts_language_type_is_visible_wasm=_ts_language_type_is_visible_wasm=e.ts_language_type_is_visible_wasm,Module._ts_language_metadata_wasm=_ts_language_metadata_wasm=e.ts_language_metadata_wasm,Module._ts_language_supertypes_wasm=_ts_language_supertypes_wasm=e.ts_language_supertypes_wasm,Module._ts_language_subtypes_wasm=_ts_language_subtypes_wasm=e.ts_language_subtypes_wasm,Module._ts_tree_root_node_wasm=_ts_tree_root_node_wasm=e.ts_tree_root_node_wasm,Module._ts_tree_root_node_with_offset_wasm=_ts_tree_root_node_with_offset_wasm=e.ts_tree_root_node_with_offset_wasm,Module._ts_tree_edit_wasm=_ts_tree_edit_wasm=e.ts_tree_edit_wasm,Module._ts_tree_included_ranges_wasm=_ts_tree_included_ranges_wasm=e.ts_tree_included_ranges_wasm,Module._ts_tree_get_changed_ranges_wasm=_ts_tree_get_changed_ranges_wasm=e.ts_tree_get_changed_ranges_wasm,Module._ts_tree_cursor_new_wasm=_ts_tree_cursor_new_wasm=e.ts_tree_cursor_new_wasm,Module._ts_tree_cursor_copy_wasm=_ts_tree_cursor_copy_wasm=e.ts_tree_cursor_copy_wasm,Module._ts_tree_cursor_delete_wasm=_ts_tree_cursor_delete_wasm=e.ts_tree_cursor_delete_wasm,Module._ts_tree_cursor_reset_wasm=_ts_tree_cursor_reset_wasm=e.ts_tree_cursor_reset_wasm,Module._ts_tree_cursor_reset_to_wasm=_ts_tree_cursor_reset_to_wasm=e.ts_tree_cursor_reset_to_wasm,Module._ts_tree_cursor_goto_first_child_wasm=_ts_tree_cursor_goto_first_child_wasm=e.ts_tree_cursor_goto_first_child_wasm,Module._ts_tree_cursor_goto_last_child_wasm=_ts_tree_cursor_goto_last_child_wasm=e.ts_tree_cursor_goto_last_child_wasm,Module._ts_tree_cursor_goto_first_child_for_index_wasm=_ts_tree_cursor_goto_first_child_for_index_wasm=e.ts_tree_cursor_goto_first_child_for_index_wasm,Module._ts_tree_cursor_goto_first_child_for_position_wasm=_ts_tree_cursor_goto_first_child_for_position_wasm=e.ts_tree_cursor_goto_first_child_for_position_wasm,Module._ts_tree_cursor_goto_next_sibling_wasm=_ts_tree_cursor_goto_next_sibling_wasm=e.ts_tree_cursor_goto_next_sibling_wasm,Module._ts_tree_cursor_goto_previous_sibling_wasm=_ts_tree_cursor_goto_previous_sibling_wasm=e.ts_tree_cursor_goto_previous_sibling_wasm,Module._ts_tree_cursor_goto_descendant_wasm=_ts_tree_cursor_goto_descendant_wasm=e.ts_tree_cursor_goto_descendant_wasm,Module._ts_tree_cursor_goto_parent_wasm=_ts_tree_cursor_goto_parent_wasm=e.ts_tree_cursor_goto_parent_wasm,Module._ts_tree_cursor_current_node_type_id_wasm=_ts_tree_cursor_current_node_type_id_wasm=e.ts_tree_cursor_current_node_type_id_wasm,Module._ts_tree_cursor_current_node_state_id_wasm=_ts_tree_cursor_current_node_state_id_wasm=e.ts_tree_cursor_current_node_state_id_wasm,Module._ts_tree_cursor_current_node_is_named_wasm=_ts_tree_cursor_current_node_is_named_wasm=e.ts_tree_cursor_current_node_is_named_wasm,Module._ts_tree_cursor_current_node_is_missing_wasm=_ts_tree_cursor_current_node_is_missing_wasm=e.ts_tree_cursor_current_node_is_missing_wasm,Module._ts_tree_cursor_current_node_id_wasm=_ts_tree_cursor_current_node_id_wasm=e.ts_tree_cursor_current_node_id_wasm,Module._ts_tree_cursor_start_position_wasm=_ts_tree_cursor_start_position_wasm=e.ts_tree_cursor_start_position_wasm,Module._ts_tree_cursor_end_position_wasm=_ts_tree_cursor_end_position_wasm=e.ts_tree_cursor_end_position_wasm,Module._ts_tree_cursor_start_index_wasm=_ts_tree_cursor_start_index_wasm=e.ts_tree_cursor_start_index_wasm,Module._ts_tree_cursor_end_index_wasm=_ts_tree_cursor_end_index_wasm=e.ts_tree_cursor_end_index_wasm,Module._ts_tree_cursor_current_field_id_wasm=_ts_tree_cursor_current_field_id_wasm=e.ts_tree_cursor_current_field_id_wasm,Module._ts_tree_cursor_current_depth_wasm=_ts_tree_cursor_current_depth_wasm=e.ts_tree_cursor_current_depth_wasm,Module._ts_tree_cursor_current_descendant_index_wasm=_ts_tree_cursor_current_descendant_index_wasm=e.ts_tree_cursor_current_descendant_index_wasm,Module._ts_tree_cursor_current_node_wasm=_ts_tree_cursor_current_node_wasm=e.ts_tree_cursor_current_node_wasm,Module._ts_node_symbol_wasm=_ts_node_symbol_wasm=e.ts_node_symbol_wasm,Module._ts_node_field_name_for_child_wasm=_ts_node_field_name_for_child_wasm=e.ts_node_field_name_for_child_wasm,Module._ts_node_field_name_for_named_child_wasm=_ts_node_field_name_for_named_child_wasm=e.ts_node_field_name_for_named_child_wasm,Module._ts_node_children_by_field_id_wasm=_ts_node_children_by_field_id_wasm=e.ts_node_children_by_field_id_wasm,Module._ts_node_first_child_for_byte_wasm=_ts_node_first_child_for_byte_wasm=e.ts_node_first_child_for_byte_wasm,Module._ts_node_first_named_child_for_byte_wasm=_ts_node_first_named_child_for_byte_wasm=e.ts_node_first_named_child_for_byte_wasm,Module._ts_node_grammar_symbol_wasm=_ts_node_grammar_symbol_wasm=e.ts_node_grammar_symbol_wasm,Module._ts_node_child_count_wasm=_ts_node_child_count_wasm=e.ts_node_child_count_wasm,Module._ts_node_named_child_count_wasm=_ts_node_named_child_count_wasm=e.ts_node_named_child_count_wasm,Module._ts_node_child_wasm=_ts_node_child_wasm=e.ts_node_child_wasm,Module._ts_node_named_child_wasm=_ts_node_named_child_wasm=e.ts_node_named_child_wasm,Module._ts_node_child_by_field_id_wasm=_ts_node_child_by_field_id_wasm=e.ts_node_child_by_field_id_wasm,Module._ts_node_next_sibling_wasm=_ts_node_next_sibling_wasm=e.ts_node_next_sibling_wasm,Module._ts_node_prev_sibling_wasm=_ts_node_prev_sibling_wasm=e.ts_node_prev_sibling_wasm,Module._ts_node_next_named_sibling_wasm=_ts_node_next_named_sibling_wasm=e.ts_node_next_named_sibling_wasm,Module._ts_node_prev_named_sibling_wasm=_ts_node_prev_named_sibling_wasm=e.ts_node_prev_named_sibling_wasm,Module._ts_node_descendant_count_wasm=_ts_node_descendant_count_wasm=e.ts_node_descendant_count_wasm,Module._ts_node_parent_wasm=_ts_node_parent_wasm=e.ts_node_parent_wasm,Module._ts_node_child_with_descendant_wasm=_ts_node_child_with_descendant_wasm=e.ts_node_child_with_descendant_wasm,Module._ts_node_descendant_for_index_wasm=_ts_node_descendant_for_index_wasm=e.ts_node_descendant_for_index_wasm,Module._ts_node_named_descendant_for_index_wasm=_ts_node_named_descendant_for_index_wasm=e.ts_node_named_descendant_for_index_wasm,Module._ts_node_descendant_for_position_wasm=_ts_node_descendant_for_position_wasm=e.ts_node_descendant_for_position_wasm,Module._ts_node_named_descendant_for_position_wasm=_ts_node_named_descendant_for_position_wasm=e.ts_node_named_descendant_for_position_wasm,Module._ts_node_start_point_wasm=_ts_node_start_point_wasm=e.ts_node_start_point_wasm,Module._ts_node_end_point_wasm=_ts_node_end_point_wasm=e.ts_node_end_point_wasm,Module._ts_node_start_index_wasm=_ts_node_start_index_wasm=e.ts_node_start_index_wasm,Module._ts_node_end_index_wasm=_ts_node_end_index_wasm=e.ts_node_end_index_wasm,Module._ts_node_to_string_wasm=_ts_node_to_string_wasm=e.ts_node_to_string_wasm,Module._ts_node_children_wasm=_ts_node_children_wasm=e.ts_node_children_wasm,Module._ts_node_named_children_wasm=_ts_node_named_children_wasm=e.ts_node_named_children_wasm,Module._ts_node_descendants_of_type_wasm=_ts_node_descendants_of_type_wasm=e.ts_node_descendants_of_type_wasm,Module._ts_node_is_named_wasm=_ts_node_is_named_wasm=e.ts_node_is_named_wasm,Module._ts_node_has_changes_wasm=_ts_node_has_changes_wasm=e.ts_node_has_changes_wasm,Module._ts_node_has_error_wasm=_ts_node_has_error_wasm=e.ts_node_has_error_wasm,Module._ts_node_is_error_wasm=_ts_node_is_error_wasm=e.ts_node_is_error_wasm,Module._ts_node_is_missing_wasm=_ts_node_is_missing_wasm=e.ts_node_is_missing_wasm,Module._ts_node_is_extra_wasm=_ts_node_is_extra_wasm=e.ts_node_is_extra_wasm,Module._ts_node_parse_state_wasm=_ts_node_parse_state_wasm=e.ts_node_parse_state_wasm,Module._ts_node_next_parse_state_wasm=_ts_node_next_parse_state_wasm=e.ts_node_next_parse_state_wasm,Module._ts_query_matches_wasm=_ts_query_matches_wasm=e.ts_query_matches_wasm,Module._ts_query_captures_wasm=_ts_query_captures_wasm=e.ts_query_captures_wasm,Module._memset=_memset=e.memset,Module._memcpy=_memcpy=e.memcpy,Module._memmove=_memmove=e.memmove,Module._iswalpha=_iswalpha=e.iswalpha,Module._iswblank=_iswblank=e.iswblank,Module._iswdigit=_iswdigit=e.iswdigit,Module._iswlower=_iswlower=e.iswlower,Module._iswupper=_iswupper=e.iswupper,Module._iswxdigit=_iswxdigit=e.iswxdigit,Module._memchr=_memchr=e.memchr,Module._strlen=_strlen=e.strlen,Module._strcmp=_strcmp=e.strcmp,Module._strncat=_strncat=e.strncat,Module._strncpy=_strncpy=e.strncpy,Module._towlower=_towlower=e.towlower,Module._towupper=_towupper=e.towupper,_setThrew=e.setThrew,__emscripten_stack_restore=e._emscripten_stack_restore,__emscripten_stack_alloc=e._emscripten_stack_alloc,_emscripten_stack_get_current=e.emscripten_stack_get_current,___wasm_apply_data_relocs=e.__wasm_apply_data_relocs}__name(assignWasmExports,"assignWasmExports");var wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_high:___stack_high,__stack_low:___stack_low,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback,tree_sitter_progress_callback:_tree_sitter_progress_callback,tree_sitter_query_progress_callback:_tree_sitter_query_progress_callback};function callMain(e=[]){var t=resolveGlobalSymbol("main").sym;if(t){e.unshift(thisProgram);var n=e.length,r=stackAlloc((n+1)*4),o=r;e.forEach(d=>{LE_HEAP_STORE_U32((o>>2)*4,stringToUTF8OnStack(d)),o+=4}),LE_HEAP_STORE_U32((o>>2)*4,0);try{var a=t(n,r);return exitJS(a,!0),a}catch(d){return handleException(d)}}}__name(callMain,"callMain");function run(e=arguments_){if(runDependencies>0){dependenciesFulfilled=run;return}if(preRun(),runDependencies>0){dependenciesFulfilled=run;return}function t(){if(Module.calledRun=!0,!ABORT){initRuntime(),readyPromiseResolve?.(Module),Module.onRuntimeInitialized?.();var n=Module.noInitialRun||!1;n||callMain(e),postRun()}}__name(t,"doRun"),Module.setStatus?(Module.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Module.setStatus(""),1),t()},1)):t()}__name(run,"run");var wasmExports;return wasmExports=await createWasm(),run(),runtimeInitialized?moduleRtn=Module:moduleRtn=new Promise((e,t)=>{readyPromiseResolve=e,readyPromiseReject=t}),moduleRtn}})();typeof exports=="object"&&typeof module=="object"?(module.exports=Module,module.exports.default=Module):typeof define=="function"&&define.amd&&define([],()=>Module)}}),index_exports={};__export(index_exports,{CaptureQuantifier:()=>CaptureQuantifier,Edit:()=>Edit,LANGUAGE_VERSION:()=>LANGUAGE_VERSION,Language:()=>Language,LookaheadIterator:()=>LookaheadIterator,MIN_COMPATIBLE_VERSION:()=>MIN_COMPATIBLE_VERSION,Node:()=>Node,Parser:()=>Parser,Query:()=>Query,Tree:()=>Tree,TreeCursor:()=>TreeCursor});module.exports=__toCommonJS(index_exports);var Edit=class{static{__name(this,"Edit")}startPosition;oldEndPosition;newEndPosition;startIndex;oldEndIndex;newEndIndex;constructor({startIndex:e,oldEndIndex:t,newEndIndex:n,startPosition:r,oldEndPosition:o,newEndPosition:a}){this.startIndex=e>>>0,this.oldEndIndex=t>>>0,this.newEndIndex=n>>>0,this.startPosition=r,this.oldEndPosition=o,this.newEndPosition=a}editPoint(e,t){let n=t,r={...e};if(t>=this.oldEndIndex){n=this.newEndIndex+(t-this.oldEndIndex);let o=e.row;r.row=this.newEndPosition.row+(e.row-this.oldEndPosition.row),r.column=o===this.oldEndPosition.row?this.newEndPosition.column+(e.column-this.oldEndPosition.column):e.column}else t>this.startIndex&&(n=this.newEndIndex,r.row=this.newEndPosition.row,r.column=this.newEndPosition.column);return{point:r,index:n}}editRange(e){let t={startIndex:e.startIndex,startPosition:{...e.startPosition},endIndex:e.endIndex,endPosition:{...e.endPosition}};return e.endIndex>=this.oldEndIndex?e.endIndex!==Number.MAX_SAFE_INTEGER&&(t.endIndex=this.newEndIndex+(e.endIndex-this.oldEndIndex),t.endPosition={row:this.newEndPosition.row+(e.endPosition.row-this.oldEndPosition.row),column:e.endPosition.row===this.oldEndPosition.row?this.newEndPosition.column+(e.endPosition.column-this.oldEndPosition.column):e.endPosition.column},t.endIndex<this.newEndIndex&&(t.endIndex=Number.MAX_SAFE_INTEGER,t.endPosition={row:Number.MAX_SAFE_INTEGER,column:Number.MAX_SAFE_INTEGER})):e.endIndex>this.startIndex&&(t.endIndex=this.startIndex,t.endPosition={...this.startPosition}),e.startIndex>=this.oldEndIndex?(t.startIndex=this.newEndIndex+(e.startIndex-this.oldEndIndex),t.startPosition={row:this.newEndPosition.row+(e.startPosition.row-this.oldEndPosition.row),column:e.startPosition.row===this.oldEndPosition.row?this.newEndPosition.column+(e.startPosition.column-this.oldEndPosition.column):e.startPosition.column},t.startIndex<this.newEndIndex&&(t.startIndex=Number.MAX_SAFE_INTEGER,t.startPosition={row:Number.MAX_SAFE_INTEGER,column:Number.MAX_SAFE_INTEGER})):e.startIndex>this.startIndex&&(t.startIndex=this.startIndex,t.startPosition={...this.startPosition}),t}},SIZE_OF_SHORT=2,SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},INTERNAL=Symbol("INTERNAL");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}__name(assertInternal,"assertInternal");function isPoint(e){return!!e&&typeof e.row=="number"&&typeof e.column=="number"}__name(isPoint,"isPoint");function setModule(e){C=e}__name(setModule,"setModule");var C,LookaheadIterator=class{static{__name(this,"LookaheadIterator")}0=0;language;constructor(e,t,n){assertInternal(e),this[0]=t,this.language=n}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}reset(e,t){return C._ts_lookahead_iterator_reset(this[0],e[0],t)?(this.language=e,!0):!1}resetState(e){return!!C._ts_lookahead_iterator_reset_state(this[0],e)}[Symbol.iterator](){return{next:__name(()=>C._ts_lookahead_iterator_next(this[0])?{done:!1,value:this.currentType}:{done:!0,value:""},"next")}}};function getText(e,t,n,r){let o=n-t,a=e.textCallback(t,r);if(a){for(t+=a.length;t<n;){let d=e.textCallback(t,r);if(d&&d.length>0)t+=d.length,a+=d;else break}t>n&&(a=a.slice(0,o))}return a??""}__name(getText,"getText");var Tree=class Ko{static{__name(this,"Tree")}0=0;textCallback;language;constructor(t,n,r,o){assertInternal(t),this[0]=n,this.language=r,this.textCallback=o}copy(){let t=C._ts_tree_copy(this[0]);return new Ko(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(t,n){let r=TRANSFER_BUFFER+SIZE_OF_NODE;return C.setValue(r,t,"i32"),marshalPoint(r+SIZE_OF_INT,n),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}walk(){return this.rootNode.walk()}getChangedRanges(t){if(!(t instanceof Ko))throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let n=C.getValue(TRANSFER_BUFFER,"i32"),r=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(n);if(n>0){let a=r;for(let d=0;d<n;d++)o[d]=unmarshalRange(a),a+=SIZE_OF_RANGE;C._free(r)}return o}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);let t=C.getValue(TRANSFER_BUFFER,"i32"),n=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(t);if(t>0){let o=n;for(let a=0;a<t;a++)r[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return r}},TreeCursor=class gc{static{__name(this,"TreeCursor")}0=0;1=0;2=0;3=0;tree;constructor(t,n){assertInternal(t),this.tree=n,unmarshalTreeCursor(this)}copy(){let t=new gc(INTERNAL,this.tree);return C._ts_tree_cursor_copy_wasm(this.tree[0]),unmarshalTreeCursor(t),t}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),n=C._ts_tree_cursor_end_index_wasm(this.tree[0]);C._ts_tree_cursor_start_position_wasm(this.tree[0]);let r=unmarshalPoint(TRANSFER_BUFFER);return getText(this.tree,t,n,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoLastChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoPreviousSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoDescendant(t){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],t),unmarshalTreeCursor(this)}gotoFirstChildForIndex(t){marshalTreeCursor(this),C.setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,t,"i32");let n=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),n===1}gotoFirstChildForPosition(t){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,t);let n=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),n===1}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(t){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(t,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],t.tree[0]),unmarshalTreeCursor(this)}},Node=class{static{__name(this,"Node")}0=0;_children;_namedChildren;constructor(e,{id:t,tree:n,startIndex:r,startPosition:o,other:a}){assertInternal(e),this[0]=a,this.id=t,this.tree=n,this.startIndex=r,this.startPosition=o}id;startIndex;startPosition;tree;get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get text(){return getText(this.tree,this.startIndex,this.endIndex,this.startPosition)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}equals(e){return this.tree===e.tree&&this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let t=this.tree.language.fields.indexOf(e);return t!==-1?this.childForFieldId(t):null}fieldNameForChild(e){marshalNode(this);let t=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return t?C.AsciiToString(t):null}fieldNameForNamedChild(e){marshalNode(this);let t=C._ts_node_field_name_for_named_child_wasm(this.tree[0],e);return t?C.AsciiToString(t):null}childrenForFieldName(e){let t=this.tree.language.fields.indexOf(e);return t!==-1&&t!==0?this.childrenForFieldId(t):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);let t=C.getValue(TRANSFER_BUFFER,"i32"),n=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(t);if(t>0){let o=n;for(let a=0;a<t;a++)r[a]=unmarshalNode(this.tree,o),o+=SIZE_OF_NODE;C._free(n)}return r}firstChildForIndex(e){marshalNode(this);let t=TRANSFER_BUFFER+SIZE_OF_NODE;return C.setValue(t,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);let t=TRANSFER_BUFFER+SIZE_OF_NODE;return C.setValue(t,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=C.getValue(TRANSFER_BUFFER,"i32"),t=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=t;for(let r=0;r<e;r++)this._children[r]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=C.getValue(TRANSFER_BUFFER,"i32"),t=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let r=0;r<e;r++)this._namedChildren[r]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(t)}}return this._namedChildren}descendantsOfType(e,t=ZERO_POINT,n=ZERO_POINT){Array.isArray(e)||(e=[e]);let r=[],o=this.tree.language.types;for(let v of e)v=="ERROR"&&r.push(65535);for(let v=0,S=o.length;v<S;v++)e.includes(o[v])&&r.push(v);let a=C._malloc(SIZE_OF_INT*r.length);for(let v=0,S=r.length;v<S;v++)C.setValue(a+v*SIZE_OF_INT,r[v],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,r.length,t.row,t.column,n.row,n.column);let d=C.getValue(TRANSFER_BUFFER,"i32"),f=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),R=new Array(d);if(d>0){let v=f;for(let S=0;S<d;S++)R[S]=unmarshalNode(this.tree,v),v+=SIZE_OF_NODE}return C._free(f),C._free(a),R}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}childWithDescendant(e){return marshalNode(this),marshalNode(e,1),C._ts_node_child_with_descendant_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,t=e){if(typeof e!="number"||typeof t!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return C.setValue(n,e,"i32"),C.setValue(n+SIZE_OF_INT,t,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,t=e){if(typeof e!="number"||typeof t!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return C.setValue(n,e,"i32"),C.setValue(n+SIZE_OF_INT,t,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,t),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,t),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}edit(e){if(this.startIndex>=e.oldEndIndex){this.startIndex=e.newEndIndex+(this.startIndex-e.oldEndIndex);let t,n;this.startPosition.row>e.oldEndPosition.row?(t=this.startPosition.row-e.oldEndPosition.row,n=this.startPosition.column):(t=0,n=this.startPosition.column,this.startPosition.column>=e.oldEndPosition.column&&(n=this.startPosition.column-e.oldEndPosition.column)),t>0?(this.startPosition.row+=t,this.startPosition.column=n):this.startPosition.column+=n}else this.startIndex>e.startIndex&&(this.startIndex=e.newEndIndex,this.startPosition.row=e.newEndPosition.row,this.startPosition.column=e.newEndPosition.column)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),t=C.AsciiToString(e);return C._free(e),t}};function unmarshalCaptures(e,t,n,r,o){for(let a=0,d=o.length;a<d;a++){let f=C.getValue(n,"i32");n+=SIZE_OF_INT;let R=unmarshalNode(t,n);n+=SIZE_OF_NODE,o[a]={patternIndex:r,name:e.captureNames[f],node:R}}return n}__name(unmarshalCaptures,"unmarshalCaptures");function marshalNode(e,t=0){let n=TRANSFER_BUFFER+t*SIZE_OF_NODE;C.setValue(n,e.id,"i32"),n+=SIZE_OF_INT,C.setValue(n,e.startIndex,"i32"),n+=SIZE_OF_INT,C.setValue(n,e.startPosition.row,"i32"),n+=SIZE_OF_INT,C.setValue(n,e.startPosition.column,"i32"),n+=SIZE_OF_INT,C.setValue(n,e[0],"i32")}__name(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let n=C.getValue(t,"i32");if(t+=SIZE_OF_INT,n===0)return null;let r=C.getValue(t,"i32");t+=SIZE_OF_INT;let o=C.getValue(t,"i32");t+=SIZE_OF_INT;let a=C.getValue(t,"i32");t+=SIZE_OF_INT;let d=C.getValue(t,"i32");return new Node(INTERNAL,{id:n,tree:e,startIndex:r,startPosition:{row:o,column:a},other:d})}__name(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){C.setValue(t+0*SIZE_OF_INT,e[0],"i32"),C.setValue(t+1*SIZE_OF_INT,e[1],"i32"),C.setValue(t+2*SIZE_OF_INT,e[2],"i32"),C.setValue(t+3*SIZE_OF_INT,e[3],"i32")}__name(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=C.getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=C.getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=C.getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),e[3]=C.getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}__name(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){C.setValue(e,t.row,"i32"),C.setValue(e+SIZE_OF_INT,t.column,"i32")}__name(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:C.getValue(e,"i32")>>>0,column:C.getValue(e+SIZE_OF_INT,"i32")>>>0}}__name(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.endPosition),e+=SIZE_OF_POINT,C.setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,C.setValue(e,t.endIndex,"i32"),e+=SIZE_OF_INT}__name(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=C.getValue(e,"i32")>>>0,e+=SIZE_OF_INT,t.endIndex=C.getValue(e,"i32")>>>0,t}__name(unmarshalRange,"unmarshalRange");function marshalEdit(e,t=TRANSFER_BUFFER){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,C.setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,C.setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,C.setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}__name(marshalEdit,"marshalEdit");function unmarshalLanguageMetadata(e){let t=C.getValue(e,"i32"),n=C.getValue(e+=SIZE_OF_INT,"i32"),r=C.getValue(e+=SIZE_OF_INT,"i32");return{major_version:t,minor_version:n,patch_version:r}}__name(unmarshalLanguageMetadata,"unmarshalLanguageMetadata");var LANGUAGE_FUNCTION_REGEX=/^tree_sitter_\w+$/,Language=class pc{static{__name(this,"Language")}0=0;types;fields;constructor(t,n){assertInternal(t),this[0]=n,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let r=0,o=this.types.length;r<o;r++)C._ts_language_symbol_type(this[0],r)<2&&(this.types[r]=C.UTF8ToString(C._ts_language_symbol_name(this[0],r)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let r=0,o=this.fields.length;r<o;r++){let a=C._ts_language_field_name_for_id(this[0],r);a!==0?this.fields[r]=C.UTF8ToString(a):this.fields[r]=null}}get name(){let t=C._ts_language_name(this[0]);return t===0?null:C.UTF8ToString(t)}get abiVersion(){return C._ts_language_abi_version(this[0])}get metadata(){return C._ts_language_metadata_wasm(this[0]),C.getValue(TRANSFER_BUFFER,"i32")===0?null:unmarshalLanguageMetadata(TRANSFER_BUFFER+SIZE_OF_INT)}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(t){let n=this.fields.indexOf(t);return n!==-1?n:null}fieldNameForId(t){return this.fields[t]??null}idForNodeType(t,n){let r=C.lengthBytesUTF8(t),o=C._malloc(r+1);C.stringToUTF8(t,o,r+1);let a=C._ts_language_symbol_for_name(this[0],o,r,n?1:0);return C._free(o),a||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let n=C._ts_language_symbol_name(this[0],t);return n?C.UTF8ToString(n):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}get supertypes(){C._ts_language_supertypes_wasm(this[0]);let t=C.getValue(TRANSFER_BUFFER,"i32"),n=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(t);if(t>0){let o=n;for(let a=0;a<t;a++)r[a]=C.getValue(o,"i16"),o+=SIZE_OF_SHORT}return r}subtypes(t){C._ts_language_subtypes_wasm(this[0],t);let n=C.getValue(TRANSFER_BUFFER,"i32"),r=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(n);if(n>0){let a=r;for(let d=0;d<n;d++)o[d]=C.getValue(a,"i16"),a+=SIZE_OF_SHORT}return o}nextState(t,n){return C._ts_language_next_state(this[0],t,n)}lookaheadIterator(t){let n=C._ts_lookahead_iterator_new(this[0],t);return n?new LookaheadIterator(INTERNAL,n,this):null}static async load(t){let n;if(t instanceof Uint8Array)n=t;else if(globalThis.process?.versions.node)n=await(await import("fs/promises")).readFile(t);else{let f=await fetch(t);if(!f.ok){let v=await f.text();throw new Error(`Language.load failed with status ${f.status}.

${v}`)}let R=f.clone();try{n=await WebAssembly.compileStreaming(f)}catch(v){console.error("wasm streaming compile failed:",v),console.error("falling back to ArrayBuffer instantiation"),n=new Uint8Array(await R.arrayBuffer())}}let r=await C.loadWebAssemblyModule(n,{loadAsync:!0}),o=Object.keys(r),a=o.find(f=>LANGUAGE_FUNCTION_REGEX.test(f)&&!f.includes("external_scanner_"));if(!a)throw console.log(`Couldn't find language function in Wasm file. Symbols:
${JSON.stringify(o,null,2)}`),new Error("Language.load failed: no language function found in Wasm file");let d=r[a]();return new pc(INTERNAL,d)}},import_web_tree_sitter=__toESM(require_web_tree_sitter(),1),Module2=null;async function initializeBinding(e){return Module2??=await(0,import_web_tree_sitter.default)(e)}__name(initializeBinding,"initializeBinding");function checkModule(){return!!Module2}__name(checkModule,"checkModule");var TRANSFER_BUFFER,LANGUAGE_VERSION,MIN_COMPATIBLE_VERSION,Parser=class{static{__name(this,"Parser")}0=0;1=0;logCallback=null;language=null;static async init(e){setModule(await initializeBinding(e)),TRANSFER_BUFFER=C._ts_init(),LANGUAGE_VERSION=C.getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}constructor(){this.initialize()}initialize(){if(!checkModule())throw new Error("cannot construct a Parser before calling `init()`");C._ts_parser_new_wasm(),this[0]=C.getValue(TRANSFER_BUFFER,"i32"),this[1]=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(!e)t=0,this.language=null;else if(e.constructor===Language){t=e[0];let n=C._ts_language_abi_version(t);if(n<MIN_COMPATIBLE_VERSION||LANGUAGE_VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${LANGUAGE_VERSION}.`);this.language=e}else throw new Error("Argument must be a Language");return C._ts_parser_set_language(this[0],t),this}parse(e,t,n){if(typeof e=="string")C.currentParseCallback=f=>e.slice(f);else if(typeof e=="function")C.currentParseCallback=e;else throw new Error("Argument must be a string or a function");n?.progressCallback?C.currentProgressCallback=n.progressCallback:C.currentProgressCallback=null,this.logCallback?(C.currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(C.currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let r=0,o=0;if(n?.includedRanges){r=n.includedRanges.length,o=C._calloc(r,SIZE_OF_RANGE);let f=o;for(let R=0;R<r;R++)marshalRange(f,n.includedRanges[R]),f+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,o,r);if(!a)return C.currentParseCallback=null,C.currentLogCallback=null,C.currentProgressCallback=null,null;if(!this.language)throw new Error("Parser must have a language to parse");let d=new Tree(INTERNAL,a,this.language,C.currentParseCallback);return C.currentParseCallback=null,C.currentLogCallback=null,C.currentProgressCallback=null,d}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);let e=C.getValue(TRANSFER_BUFFER,"i32"),t=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let r=t;for(let o=0;o<e;o++)n[o]=unmarshalRange(r),r+=SIZE_OF_RANGE;C._free(t)}return n}setLogger(e){if(!e)this.logCallback=null;else{if(typeof e!="function")throw new Error("Logger callback must be a function");this.logCallback=e}return this}getLogger(){return this.logCallback}},PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,QUERY_WORD_REGEX=/[\w-]+/g,CaptureQuantifier={Zero:0,ZeroOrOne:1,ZeroOrMore:2,One:3,OneOrMore:4},isCaptureStep=__name(e=>e.type==="capture","isCaptureStep"),isStringStep=__name(e=>e.type==="string","isStringStep"),QueryErrorKind={Syntax:1,NodeName:2,FieldName:3,CaptureName:4,PatternStructure:5},QueryError=class yc extends Error{constructor(t,n,r,o){super(yc.formatMessage(t,n)),this.kind=t,this.info=n,this.index=r,this.length=o,this.name="QueryError"}static{__name(this,"QueryError")}static formatMessage(t,n){switch(t){case QueryErrorKind.NodeName:return`Bad node name '${n.word}'`;case QueryErrorKind.FieldName:return`Bad field name '${n.word}'`;case QueryErrorKind.CaptureName:return`Bad capture name @${n.word}`;case QueryErrorKind.PatternStructure:return`Bad pattern structure at offset ${n.suffix}`;case QueryErrorKind.Syntax:return`Bad syntax at offset ${n.suffix}`}}};function parseAnyPredicate(e,t,n,r){if(e.length!==3)throw new Error(`Wrong number of arguments to \`#${n}\` predicate. Expected 2, got ${e.length-1}`);if(!isCaptureStep(e[1]))throw new Error(`First argument of \`#${n}\` predicate must be a capture. Got "${e[1].value}"`);let o=n==="eq?"||n==="any-eq?",a=!n.startsWith("any-");if(isCaptureStep(e[2])){let d=e[1].name,f=e[2].name;r[t].push(R=>{let v=[],S=[];for(let M of R)M.name===d&&v.push(M.node),M.name===f&&S.push(M.node);let I=__name((M,j,Y)=>Y?M.text===j.text:M.text!==j.text,"compare");return a?v.every(M=>S.some(j=>I(M,j,o))):v.some(M=>S.some(j=>I(M,j,o)))})}else{let d=e[1].name,f=e[2].value,R=__name(S=>S.text===f,"matches"),v=__name(S=>S.text!==f,"doesNotMatch");r[t].push(S=>{let I=[];for(let j of S)j.name===d&&I.push(j.node);let M=o?R:v;return a?I.every(M):I.some(M)})}}__name(parseAnyPredicate,"parseAnyPredicate");function parseMatchPredicate(e,t,n,r){if(e.length!==3)throw new Error(`Wrong number of arguments to \`#${n}\` predicate. Expected 2, got ${e.length-1}.`);if(e[1].type!=="capture")throw new Error(`First argument of \`#${n}\` predicate must be a capture. Got "${e[1].value}".`);if(e[2].type!=="string")throw new Error(`Second argument of \`#${n}\` predicate must be a string. Got @${e[2].name}.`);let o=n==="match?"||n==="any-match?",a=!n.startsWith("any-"),d=e[1].name,f=new RegExp(e[2].value);r[t].push(R=>{let v=[];for(let I of R)I.name===d&&v.push(I.node.text);let S=__name((I,M)=>M?f.test(I):!f.test(I),"test");return v.length===0?!o:a?v.every(I=>S(I,o)):v.some(I=>S(I,o))})}__name(parseMatchPredicate,"parseMatchPredicate");function parseAnyOfPredicate(e,t,n,r){if(e.length<2)throw new Error(`Wrong number of arguments to \`#${n}\` predicate. Expected at least 1. Got ${e.length-1}.`);if(e[1].type!=="capture")throw new Error(`First argument of \`#${n}\` predicate must be a capture. Got "${e[1].value}".`);let o=n==="any-of?",a=e[1].name,d=e.slice(2);if(!d.every(isStringStep))throw new Error(`Arguments to \`#${n}\` predicate must be strings.".`);let f=d.map(R=>R.value);r[t].push(R=>{let v=[];for(let S of R)S.name===a&&v.push(S.node.text);return v.length===0?!o:v.every(S=>f.includes(S))===o})}__name(parseAnyOfPredicate,"parseAnyOfPredicate");function parseIsPredicate(e,t,n,r,o){if(e.length<2||e.length>3)throw new Error(`Wrong number of arguments to \`#${n}\` predicate. Expected 1 or 2. Got ${e.length-1}.`);if(!e.every(isStringStep))throw new Error(`Arguments to \`#${n}\` predicate must be strings.".`);let a=n==="is?"?r:o;a[t]||(a[t]={}),a[t][e[1].value]=e[2]?.value??null}__name(parseIsPredicate,"parseIsPredicate");function parseSetDirective(e,t,n){if(e.length<2||e.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${e.length-1}.`);if(!e.every(isStringStep))throw new Error('Arguments to `#set!` predicate must be strings.".');n[t]||(n[t]={}),n[t][e[1].value]=e[2]?.value??null}__name(parseSetDirective,"parseSetDirective");function parsePattern(e,t,n,r,o,a,d,f,R,v,S){if(t===PREDICATE_STEP_TYPE_CAPTURE){let I=r[n];a.push({type:"capture",name:I})}else if(t===PREDICATE_STEP_TYPE_STRING)a.push({type:"string",value:o[n]});else if(a.length>0){if(a[0].type!=="string")throw new Error("Predicates must begin with a literal value");let I=a[0].value;switch(I){case"any-not-eq?":case"not-eq?":case"any-eq?":case"eq?":parseAnyPredicate(a,e,I,d);break;case"any-not-match?":case"not-match?":case"any-match?":case"match?":parseMatchPredicate(a,e,I,d);break;case"not-any-of?":case"any-of?":parseAnyOfPredicate(a,e,I,d);break;case"is?":case"is-not?":parseIsPredicate(a,e,I,v,S);break;case"set!":parseSetDirective(a,e,R);break;default:f[e].push({operator:I,operands:a.slice(1)})}a.length=0}}__name(parsePattern,"parsePattern");var Query=class{static{__name(this,"Query")}0=0;exceededMatchLimit;textPredicates;captureNames;captureQuantifiers;predicates;setProperties;assertedProperties;refutedProperties;matchLimit;constructor(e,t){let n=C.lengthBytesUTF8(t),r=C._malloc(n+1);C.stringToUTF8(t,r,n+1);let o=C._ts_query_new(e[0],r,n,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let O=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=C.getValue(TRANSFER_BUFFER,"i32"),g=C.UTF8ToString(r,x).length,p=t.slice(g,g+100).split(`
`)[0],E=p.match(QUERY_WORD_REGEX)?.[0]??"";switch(C._free(r),O){case QueryErrorKind.Syntax:throw new QueryError(QueryErrorKind.Syntax,{suffix:`${g}: '${p}'...`},g,0);case QueryErrorKind.NodeName:throw new QueryError(O,{word:E},g,E.length);case QueryErrorKind.FieldName:throw new QueryError(O,{word:E},g,E.length);case QueryErrorKind.CaptureName:throw new QueryError(O,{word:E},g,E.length);case QueryErrorKind.PatternStructure:throw new QueryError(O,{suffix:`${g}: '${p}'...`},g,0)}}let a=C._ts_query_string_count(o),d=C._ts_query_capture_count(o),f=C._ts_query_pattern_count(o),R=new Array(d),v=new Array(f),S=new Array(a);for(let O=0;O<d;O++){let x=C._ts_query_capture_name_for_id(o,O,TRANSFER_BUFFER),g=C.getValue(TRANSFER_BUFFER,"i32");R[O]=C.UTF8ToString(x,g)}for(let O=0;O<f;O++){let x=new Array(d);for(let g=0;g<d;g++){let p=C._ts_query_capture_quantifier_for_id(o,O,g);x[g]=p}v[O]=x}for(let O=0;O<a;O++){let x=C._ts_query_string_value_for_id(o,O,TRANSFER_BUFFER),g=C.getValue(TRANSFER_BUFFER,"i32");S[O]=C.UTF8ToString(x,g)}let I=new Array(f),M=new Array(f),j=new Array(f),Y=new Array(f),X=new Array(f);for(let O=0;O<f;O++){let x=C._ts_query_predicates_for_pattern(o,O,TRANSFER_BUFFER),g=C.getValue(TRANSFER_BUFFER,"i32");Y[O]=[],X[O]=[];let p=new Array,E=x;for(let W=0;W<g;W++){let V=C.getValue(E,"i32");E+=SIZE_OF_INT;let $=C.getValue(E,"i32");E+=SIZE_OF_INT,parsePattern(O,V,$,R,S,p,X,Y,I,M,j)}Object.freeze(X[O]),Object.freeze(Y[O]),Object.freeze(I[O]),Object.freeze(M[O]),Object.freeze(j[O])}C._free(r),this[0]=o,this.captureNames=R,this.captureQuantifiers=v,this.textPredicates=X,this.predicates=Y,this.setProperties=I,this.assertedProperties=M,this.refutedProperties=j,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,t={}){let n=t.startPosition??ZERO_POINT,r=t.endPosition??ZERO_POINT,o=t.startIndex??0,a=t.endIndex??0,d=t.startContainingPosition??ZERO_POINT,f=t.endContainingPosition??ZERO_POINT,R=t.startContainingIndex??0,v=t.endContainingIndex??0,S=t.matchLimit??4294967295,I=t.maxStartDepth??4294967295,M=t.progressCallback;if(typeof S!="number")throw new Error("Arguments must be numbers");if(this.matchLimit=S,a!==0&&o>a)throw new Error("`startIndex` cannot be greater than `endIndex`");if(r!==ZERO_POINT&&(n.row>r.row||n.row===r.row&&n.column>r.column))throw new Error("`startPosition` cannot be greater than `endPosition`");if(v!==0&&R>v)throw new Error("`startContainingIndex` cannot be greater than `endContainingIndex`");if(f!==ZERO_POINT&&(d.row>f.row||d.row===f.row&&d.column>f.column))throw new Error("`startContainingPosition` cannot be greater than `endContainingPosition`");M&&(C.currentQueryProgressCallback=M),marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,o,a,d.row,d.column,f.row,f.column,R,v,S,I);let j=C.getValue(TRANSFER_BUFFER,"i32"),Y=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),X=C.getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),O=new Array(j);this.exceededMatchLimit=!!X;let x=0,g=Y;for(let p=0;p<j;p++){let E=C.getValue(g,"i32");g+=SIZE_OF_INT;let W=C.getValue(g,"i32");g+=SIZE_OF_INT;let V=new Array(W);if(g=unmarshalCaptures(this,e.tree,g,E,V),this.textPredicates[E].every($=>$(V))){O[x]={patternIndex:E,captures:V};let $=this.setProperties[E];O[x].setProperties=$;let ve=this.assertedProperties[E];O[x].assertedProperties=ve;let Me=this.refutedProperties[E];O[x].refutedProperties=Me,x++}}return O.length=x,C._free(Y),C.currentQueryProgressCallback=null,O}captures(e,t={}){let n=t.startPosition??ZERO_POINT,r=t.endPosition??ZERO_POINT,o=t.startIndex??0,a=t.endIndex??0,d=t.startContainingPosition??ZERO_POINT,f=t.endContainingPosition??ZERO_POINT,R=t.startContainingIndex??0,v=t.endContainingIndex??0,S=t.matchLimit??4294967295,I=t.maxStartDepth??4294967295,M=t.progressCallback;if(typeof S!="number")throw new Error("Arguments must be numbers");if(this.matchLimit=S,a!==0&&o>a)throw new Error("`startIndex` cannot be greater than `endIndex`");if(r!==ZERO_POINT&&(n.row>r.row||n.row===r.row&&n.column>r.column))throw new Error("`startPosition` cannot be greater than `endPosition`");if(v!==0&&R>v)throw new Error("`startContainingIndex` cannot be greater than `endContainingIndex`");if(f!==ZERO_POINT&&(d.row>f.row||d.row===f.row&&d.column>f.column))throw new Error("`startContainingPosition` cannot be greater than `endContainingPosition`");M&&(C.currentQueryProgressCallback=M),marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,o,a,d.row,d.column,f.row,f.column,R,v,S,I);let j=C.getValue(TRANSFER_BUFFER,"i32"),Y=C.getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),X=C.getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),O=new Array;this.exceededMatchLimit=!!X;let x=new Array,g=Y;for(let p=0;p<j;p++){let E=C.getValue(g,"i32");g+=SIZE_OF_INT;let W=C.getValue(g,"i32");g+=SIZE_OF_INT;let V=C.getValue(g,"i32");if(g+=SIZE_OF_INT,x.length=W,g=unmarshalCaptures(this,e.tree,g,E,x),this.textPredicates[E].every($=>$(x))){let $=x[V],ve=this.setProperties[E];$.setProperties=ve;let Me=this.assertedProperties[E];$.assertedProperties=Me;let Oe=this.refutedProperties[E];$.refutedProperties=Oe,O.push($)}}return C._free(Y),C.currentQueryProgressCallback=null,O}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){let t=C.lengthBytesUTF8(e),n=C._malloc(t+1);C.stringToUTF8(e,n,t+1),C._ts_query_disable_capture(this[0],n,t),C._free(n)}disablePattern(e){if(e>=this.predicates.length)throw new Error(`Pattern index is ${e} but the pattern count is ${this.predicates.length}`);C._ts_query_disable_pattern(this[0],e)}didExceedMatchLimit(){return this.exceededMatchLimit}startIndexForPattern(e){if(e>=this.predicates.length)throw new Error(`Pattern index is ${e} but the pattern count is ${this.predicates.length}`);return C._ts_query_start_byte_for_pattern(this[0],e)}endIndexForPattern(e){if(e>=this.predicates.length)throw new Error(`Pattern index is ${e} but the pattern count is ${this.predicates.length}`);return C._ts_query_end_byte_for_pattern(this[0],e)}patternCount(){return C._ts_query_pattern_count(this[0])}captureIndexForName(e){return this.captureNames.indexOf(e)}isPatternRooted(e){return C._ts_query_is_pattern_rooted(this[0],e)===1}isPatternNonLocal(e){return C._ts_query_is_pattern_non_local(this[0],e)===1}isPatternGuaranteedAtStep(e){return C._ts_query_is_pattern_guaranteed_at_step(this[0],e)===1}}});var Se=ts(_c());var Or=class e{constructor(t,n,r,o){this._uri=t,this._languageId=n,this._version=r,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(let r of t)if(e.isIncremental(r)){let o=hc(r.range),a=this.offsetAt(o.start),d=this.offsetAt(o.end);this._content=this._content.substring(0,a)+r.text+this._content.substring(d,this._content.length);let f=Math.max(o.start.line,0),R=Math.max(o.end.line,0),v=this._lineOffsets,S=fc(r.text,!1,a);if(R-f===S.length)for(let M=0,j=S.length;M<j;M++)v[M+f+1]=S[M];else S.length<1e4?v.splice(f+1,R-f,...S):this._lineOffsets=v=v.slice(0,f+1).concat(S,v.slice(R+1));let I=r.text.length-(d-a);if(I!==0)for(let M=f+1+S.length,j=v.length;M<j;M++)v[M]=v[M]+I}else if(e.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=fc(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,o=n.length;if(o===0)return{line:0,character:t};for(;r<o;){let d=Math.floor((r+o)/2);n[d]>t?o=d:r=d+1}let a=r-1;return t=this.ensureBeforeEOL(t,n[a]),{line:a,character:t-n[a]}}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line];if(t.character<=0)return r;let o=t.line+1<n.length?n[t.line+1]:this._content.length,a=Math.min(r+t.character,o);return this.ensureBeforeEOL(a,r)}ensureBeforeEOL(t,n){for(;t>n&&mc(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}},Ar;(function(e){function t(o,a,d,f){return new Or(o,a,d,f)}e.create=t;function n(o,a,d){if(o instanceof Or)return o.update(a,d),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(o,a){let d=o.getText(),f=Qo(a.map(sf),(S,I)=>{let M=S.range.start.line-I.range.start.line;return M===0?S.range.start.character-I.range.start.character:M}),R=0,v=[];for(let S of f){let I=o.offsetAt(S.range.start);if(I<R)throw new Error("Overlapping edit");I>R&&v.push(d.substring(R,I)),S.newText.length&&v.push(S.newText),R=o.offsetAt(S.range.end)}return v.push(d.substr(R)),v.join("")}e.applyEdits=r})(Ar||(Ar={}));function Qo(e,t){if(e.length<=1)return e;let n=e.length/2|0,r=e.slice(0,n),o=e.slice(n);Qo(r,t),Qo(o,t);let a=0,d=0,f=0;for(;a<r.length&&d<o.length;)t(r[a],o[d])<=0?e[f++]=r[a++]:e[f++]=o[d++];for(;a<r.length;)e[f++]=r[a++];for(;d<o.length;)e[f++]=o[d++];return e}function fc(e,t,n=0){let r=t?[n]:[];for(let o=0;o<e.length;o++){let a=e.charCodeAt(o);mc(a)&&(a===13&&o+1<e.length&&e.charCodeAt(o+1)===10&&o++,r.push(n+o+1))}return r}function mc(e){return e===13||e===10}function hc(e){let t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function sf(e){let t=hc(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var{Parser:vc,Language:af}=bc(),qr=class{constructor(){}async initialize(){console.log("Analyzer: Initializing web-tree-sitter...");try{await vc.init({locateFile:()=>__dirname+"/web-tree-sitter.wasm"}),console.log("Analyzer: web-tree-sitter initialized."),this.parser=new vc;let t=__dirname+"/../tree-sitter-awk.wasm",n=await af.load(t);this.parser.setLanguage(n),console.log("Analyzer: AWK Language loaded from WASM.")}catch(t){throw console.error("Analyzer: Failed to initialize:",t),t}}analyze(t){if(this.parser)return this.parser.parse(t)}};var Lr=class{constructor(){this.symbols=new Map}update(t,n){this.symbols.clear(),this.traverse(n.rootNode,r=>{if(r.type==="func_def"){let o=r.childForFieldName("name");o&&this.addSymbol(o.text,0,t,o);let a=r.childForFieldName("params");if(a)for(let d of a.children)d.type==="identifier"&&this.addSymbol(d.text,1,t,d)}else if(r.type==="assignment_exp"){let o=r.child(0);o&&o.type==="identifier"&&this.addSymbol(o.text,1,t,o)}})}get(t){return this.symbols.get(t)}getAll(){return Array.from(this.symbols.values())}addSymbol(t,n,r,o){this.symbols.has(t)||this.symbols.set(t,{name:t,kind:n,location:{uri:r,range:{start:{line:o.startPosition.row,character:o.startPosition.column},end:{line:o.endPosition.row,character:o.endPosition.column}}}})}traverse(t,n){if(n(t),t.children)for(let r of t.children)this.traverse(r,n)}};var ye=(0,Se.createConnection)(Se.ProposedFeatures.all),Sn=new Se.TextDocuments(Ar),jr=!1,Jo=!1,cf=!1,wc=new qr,Xo=new Lr,Rc=!1;ye.onInitialize(async e=>{let t=e.capabilities;ye.console.log("Server: Initializing...");try{ye.console.log("Server: calling analyzer.initialize()..."),await wc.initialize(),Rc=!0,ye.console.log("Server: Analyzer active.")}catch(r){ye.console.error(`Server: Failed to activate analyzer: ${r}`),r instanceof Error&&ye.console.error(`Stack: ${r.stack}`)}jr=!!(t.workspace&&t.workspace.configuration),Jo=!!(t.workspace&&t.workspace.workspaceFolders),cf=!!(t.textDocument&&t.textDocument.publishDiagnostics&&t.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Se.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0},hoverProvider:!0}};return Jo&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});ye.onInitialized(()=>{jr&&ye.client.register(Se.DidChangeConfigurationNotification.type,void 0),Jo&&ye.workspace.onDidChangeWorkspaceFolders(e=>{ye.console.log("Workspace folder change event received.")})});var Tc={maxNumberOfProblems:1e3},Cc=Tc,xr=new Map;ye.onDidChangeConfiguration(e=>{jr?xr.clear():Cc=e.settings.languageServerExample||Tc,Sn.all().forEach(Pc)});function uf(e){if(!jr)return Promise.resolve(Cc);let t=xr.get(e);return t||(t=ye.workspace.getConfiguration({scopeUri:e,section:"sawk"}),xr.set(e,t)),t}Sn.onDidClose(e=>{xr.delete(e.document.uri)});Sn.onDidChangeContent(e=>{Pc(e.document)});async function Pc(e){if(!Rc)return;let t=await uf(e.uri),n=e.getText(),r=wc.analyze(n),o=[];r&&(Xo.update(e.uri,r),Ec(r.rootNode,a=>{if(a.type==="ERROR"||a.type==="MISSING"){let d={severity:Se.DiagnosticSeverity.Error,range:{start:{line:a.startPosition.row,character:a.startPosition.column},end:{line:a.endPosition.row,character:a.endPosition.column}},message:`Syntax error: Unexpected ${a.type}`,source:"sawk"};o.push(d)}})),ye.sendDiagnostics({uri:e.uri,diagnostics:o})}function Ec(e,t){if(t(e),e.children)for(let n of e.children)Ec(n,t)}ye.onDidChangeWatchedFiles(e=>{ye.console.log("We received an file change event")});ye.onHover(e=>{let t=Sn.get(e.textDocument.uri);if(!t)return null;let n=e.position,a=t.getText().split(`
`)[n.line],d=/[\w_]+/g,f,R="";for(;(f=d.exec(a))!==null;)if(f.index<=n.character&&d.lastIndex>=n.character){R=f[0];break}if(!R)return null;let v=Xo.get(R);return v?{contents:{kind:"markdown",value:`**${v.name}**

*User Defined ${v.kind===0?"Function":"Variable"}*`}}:["FS","NF","NR","print","printf"].includes(R)?{contents:{kind:"markdown",value:`**${R}**

*AWK Built-in*

[Documentation](https://www.gnu.org/software/gawk/manual/html_node/${R}.html)`}}:null});ye.onCompletion(e=>{let t=[];return["FS","NF","NR","FNR","OFS","ORS","RS","FILENAME","SUBSEP","ENVIRON","print","printf","split","match","substr","length","index","gsub","sub","system","tolower","toupper"].forEach((o,a)=>{t.push({label:o,kind:Se.CompletionItemKind.Keyword,data:{type:"builtin",name:o}})}),Xo.getAll().forEach(o=>{t.push({label:o.name,kind:o.kind===0?Se.CompletionItemKind.Function:Se.CompletionItemKind.Variable,detail:o.kind===0?"User Function":"User Variable",data:{type:"user",name:o.name}})}),t});ye.onCompletionResolve(e=>(e.data.type==="builtin"&&(e.detail="AWK Built-in",e.documentation=`Standard AWK built-in: ${e.data.name}`),e));Sn.listen(ye);ye.listen();
